(n=>{var t=new n("nexteppe");t.subscribe("page-load-v1",n=>{(n.payload.detailPage||n.payload.searchPage)&&t.loadJS("https://www.dealervideopro.com/ScriptMultipleDCI.min.js").then(()=>{t.subscribe("vehicle-data-updated-v1",function(){t.utils.getAttributeForVehicles("vin").then(function(i){var r=i.join(","),u="https://www.dealervideopro.com/videoplayer/Player/VehiclesVideoByDDCSiteIdVins?DDCSiteId="+n.payload.accountId+"&vins="+r;fetch(u).then(i=>{if(i.status!==200){t.log("An error occurred fetching the response.",i.status);return}i.text().then(i=>{var f,e,o,s,c,h,u,l;i!==""&&i!==null&&((f=i.split("|"),f<2)||(e=f[0],o=f[1].split(","),n.payload.detailPage?(s=r,o.includes(s)&&(c=$("ul.slider-list").children("li").eq(1).height(),h=$(".cta-container").position().top,h+=30,$(".cta-container").css("top",String(h)+"px"),u="<iframe src='https://www.dealervideopro.com/videoplayer/player/VideoPlayerResponsive?dvsid="+e+"&VIN="+s+"' style='border:0px;height: "+String(c)+"px; width:100%;' frameborder='0' id='ifrNexteppe' allow='autoplay; fullscreen'><\/iframe>",l=IsMobile(),l?($("ul.slider-list").children("li").last().children("div").eq(0).html(""),$("ul.slider-list").children("li").last().html(""),$("ul.slider-list").children("li").last().children("div").eq(0).html(u),$("ul.slider-list").children("li").last().html(u)):($("ul.slider-list").children("li").eq(1).children("div").eq(0).html(""),$("ul.slider-list").children("li").eq(1).html(""),$("ul.slider-list").children("li").eq(1).children("div").eq(0).html(u),$("ul.slider-list").children("li").eq(1).html(u)))):n.payload.searchPage&&t.insertOnce("vehicle-badge",(n,i)=>{if(o.includes(i.vin)){var r=document.createElement("img");r.src="https://www.dealervideopro.com/images/videoplayer/"+e+"/IV.png";r.classList.add("dvp_infront_open");r.setAttribute("data-vin",i.vin);r.setAttribute("data-url","https://www.dealervideopro.com/videoplayer/?dvsid="+e);r.setAttribute("style","display: inline-block !important");t.append(n,r)}})))})})})})})})})(window.DDC.API);