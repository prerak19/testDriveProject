(function(){var B,C,D,E,p,i,s,q,t,F,n,u,v,w,l,x,y,z,A,G,H,I=[].slice;C=/^\(?([^)]*)\)?(?:(.)(d+))?$/;B=2E3;D=2;E=1E3/30;l=document.createElement("div").style;s=null!=l.transition||null!=l.webkitTransition||null!=l.mozTransition||null!=l.oTransition;v=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame;p=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t=function(b){var a;a=document.createElement("div");
a.innerHTML=b;return a.children[0]};u=function(b,a){return b.className=b.className.replace(RegExp("(^| )"+a.split(" ").join("|")+"( |$)","gi")," ")};q=function(b,a){u(b,a);return b.className+=" "+a};x=function(b,a){var e;if(null!=document.createEvent)return e=document.createEvent("HTMLEvents"),e.initEvent(a,!0,!0),b.dispatchEvent(e)};n=function(){var b,a;return null!=(b=null!=(a=window.performance)?"function"===typeof a.now?a.now():void 0:void 0)?b:+new Date};w=function(b,a){null==a&&(a=0);if(!a)return Math.round(b);
b*=Math.pow(10,a);b=Math.floor(b+0.5);return b/Math.pow(10,a)};y=function(b){return 0>b?Math.ceil(b):Math.floor(b)};F=function(b){return b-w(b)};z=!1;(l=function(){var b,a,e,c,d;if(!z&&null!=window.jQuery){z=!0;c=["html","text"];d=[];for(a=0,e=c.length;a<e;a++)b=c[a],d.push(function(a){var c;c=window.jQuery.fn[a];return window.jQuery.fn[a]=function(a){var e;return null==a||null==(null!=(e=this[0])?e.odometer:void 0)?c.apply(this,arguments):this[0].odometer.update(a)}}(b));return d}})();setTimeout(l,
0);i=function(){function b(a){var e,c,d,f,h,g,j,i=this;this.options=a;this.el=this.options.el;if(null!=this.el.odometer)return this.el.odometer;this.el.odometer=this;h=b.options;for(e in h)a=h[e],null==this.options[e]&&(this.options[e]=a);if(null==(e=this.options).duration)e.duration=B;this.MAX_VALUES=this.options.duration/E/D|0;this.resetFormat();this.value=this.cleanValue(null!=(g=this.options.value)?g:"");this.renderInside();this.render();try{j=["innerHTML","innerText","textContent"];for(d=0,f=
j.length;d<f;d++)c=j[d],null!=this.el[c]&&function(a){return Object.defineProperty(i.el,a,{get:function(){var c;return"innerHTML"===a?i.inside.outerHTML:null!=(c=i.inside.innerText)?c:i.inside.textContent},set:function(a){return i.update(a)}})}(c)}catch(k){this.watchForMutations()}}b.prototype.renderInside=function(){this.inside=document.createElement("div");this.inside.className="odometer-inside";this.el.innerHTML="";return this.el.appendChild(this.inside)};b.prototype.watchForMutations=function(){var a=
this;if(null!=p)try{if(null==this.observer)this.observer=new p(function(){var c;c=a.el.innerText;a.renderInside();a.render(a.value);return a.update(c)});this.watchMutations=!0;return this.startWatchingMutations()}catch(e){}};b.prototype.startWatchingMutations=function(){if(this.watchMutations)return this.observer.observe(this.el,{childList:!0})};b.prototype.stopWatchingMutations=function(){var a;return null!=(a=this.observer)?a.disconnect():void 0};b.prototype.cleanValue=function(a){var e;if("string"===
typeof a)a=a.replace(null!=(e=this.format.radix)?e:".","<radix>"),a=a.replace(/[.,]/g,""),a=a.replace("<radix>","."),a=parseFloat(a,10)||0;return w(a,this.format.precision)};b.prototype.bindTransitionEnd=function(){var a,e,c,b,f,h,g=this;if(!this.transitionEndBound){this.transitionEndBound=!0;e=!1;f="transitionend webkitTransitionEnd oTransitionEnd otransitionend MSTransitionEnd".split(" ");h=[];for(c=0,b=f.length;c<b;c++)a=f[c],h.push(this.el.addEventListener(a,function(){if(e)return!0;e=!0;setTimeout(function(){g.render();
e=!1;return x(g.el,"odometerdone")},0);return!0},!1));return h}};b.prototype.resetFormat=function(){var a,e,c,b;(a=null!=(e=this.options.format)?e:"(,ddd).dd")||(a="d");a=C.exec(a);if(!a)throw Error("Odometer: Unparsable digit format");b=a.slice(1,4);c=b[0];e=b[1];a=b[2];return this.format={repeating:c,radix:e,precision:(null!=a?a.length:void 0)||0}};b.prototype.render=function(a){var e,c,b,f,h,g,j;if(null==a)a=this.value;this.stopWatchingMutations();this.resetFormat();this.inside.innerHTML="";h=
this.options.theme;e=this.el.className.split(" ");f=[];for(g=0,j=e.length;g<j;g++)c=e[g],c.length&&((b=/^odometer-theme-(.+)$/.exec(c))?h=b[1]:/^odometer(-|$)/.test(c)||f.push(c));f.push("odometer");s||f.push("odometer-no-transitions");h?f.push("odometer-theme-"+h):f.push("odometer-auto-theme");this.el.className=f.join(" ");this.ribbons={};this.digits=[];e=!this.format.precision||!F(a)||!1;f=a.toString().split("").reverse();for(c=0,b=f.length;c<b;c++)a=f[c],"."===a&&(e=!0),this.addDigit(a,e);return this.startWatchingMutations()};
b.prototype.update=function(a){var b,c=this,a=this.cleanValue(a);if(b=a-this.value)return u(this.el,"odometer-animating-up odometer-animating-down odometer-animating"),0<b?q(this.el,"odometer-animating-up"):q(this.el,"odometer-animating-down"),this.stopWatchingMutations(),this.animate(a),this.startWatchingMutations(),setTimeout(function(){return q(c.el,"odometer-animating")},0),this.value=a};b.prototype.renderDigit=function(){return t('<span class="odometer-digit"><span class="odometer-digit-spacer">8</span><span class="odometer-digit-inner"><span class="odometer-ribbon"><span class="odometer-ribbon-inner"><span class="odometer-value"></span></span></span></span></span>')};
b.prototype.insertDigit=function(a,b){return null!=b?this.inside.insertBefore(a,b):this.inside.children.length?this.inside.insertBefore(a,this.inside.children[0]):this.inside.appendChild(a)};b.prototype.addSpacer=function(a,b,c){var d;d=t('<span class="odometer-formatting-mark"></span>');d.innerHTML=a;c&&q(d,c);return this.insertDigit(d,b)};b.prototype.addDigit=function(a,b){var c,d;null==b&&(b=!0);if("-"===a)return this.addSpacer(a,null,"odometer-negation-mark");if("."===a)return this.addSpacer(null!=
(c=this.format.radix)?c:".",null,"odometer-radix-mark");if(b)for(d=!1;;){if(!this.format.repeating.length){if(d)throw Error("Bad odometer format without digits");this.resetFormat();d=!0}c=this.format.repeating[this.format.repeating.length-1];this.format.repeating=this.format.repeating.substring(0,this.format.repeating.length-1);if("d"===c)break;this.addSpacer(c)}c=this.renderDigit();c.querySelector(".odometer-value").innerHTML=a;this.digits.push(c);return this.insertDigit(c)};b.prototype.animate=
function(a){return!s||"count"===this.options.animation?this.animateCount(a):this.animateSlide(a)};b.prototype.animateCount=function(a){var b,c,d,f,h,g=this;if(c=+a-this.value)return f=d=n(),b=this.value,(h=function(){var j;if(n()-f>g.options.duration)g.value=a,g.render(),x(g.el,"odometerdone");else return j=n()-d,50<j&&(d=n(),j/=g.options.duration,j*=c,b+=j,g.render(Math.round(b))),null!=v?v(h):setTimeout(h,50)})()};b.prototype.getDigitCount=function(){var a,b,c,d,f;c=1<=arguments.length?I.call(arguments,
0):[];for(a=d=0,f=c.length;d<f;a=++d)b=c[a],c[a]=Math.abs(b);a=Math.max.apply(Math,c);return Math.ceil(Math.log(a+1)/Math.log(10))};b.prototype.getFractionalDigitCount=function(){var a,b,c,d,f,h;d=1<=arguments.length?I.call(arguments,0):[];b=/^\-?\d*\.(\d*?)0*$/;for(a=f=0,h=d.length;f<h;a=++f)c=d[a],d[a]=c.toString(),c=b.exec(d[a]),d[a]=null==c?0:c[1].length;return Math.max.apply(Math,d)};b.prototype.resetDigits=function(){this.digits=[];this.ribbons=[];this.inside.innerHTML="";return this.resetFormat()};
b.prototype.animateSlide=function(a){var b,c,d,f,h,g,j,i,k,o,m,l,r,n,p;m=this.value;if(i=this.getFractionalDigitCount(m,a))a*=Math.pow(10,i),m*=Math.pow(10,i);if(d=a-m){this.bindTransitionEnd();f=this.getDigitCount(m,a);h=[];for(c=r=b=0;0<=f?r<f:r>f;c=0<=f?++r:--r){l=y(m/Math.pow(10,f-c-1));j=y(a/Math.pow(10,f-c-1));g=j-l;if(Math.abs(g)>this.MAX_VALUES){k=[];o=g/(this.MAX_VALUES+0.5*this.MAX_VALUES*b);for(c=l;0<g&&c<j||0>g&&c>j;)k.push(Math.round(c)),c+=o;k[k.length-1]!==j&&k.push(j);b++}else k=function(){p=
[];for(var a=l;l<=j?a<=j:a>=j;l<=j?a++:a--)p.push(a);return p}.apply(this);for(c=o=0,n=k.length;o<n;c=++o)g=k[c],k[c]=Math.abs(g%10);h.push(k)}this.resetDigits();f=h.reverse();for(c=a=0,b=f.length;a<b;c=++a){k=f[c];this.digits[c]||this.addDigit(" ",c>=i);if(null==(g=this.ribbons)[c])g[c]=this.digits[c].querySelector(".odometer-ribbon-inner");this.ribbons[c].innerHTML="";0>d&&(k=k.reverse());for(h=o=0,r=k.length;o<r;h=++o)g=k[h],m=document.createElement("div"),m.className="odometer-value",m.innerHTML=
g,this.ribbons[c].appendChild(m),h===k.length-1&&q(m,"odometer-last-value"),0===h&&q(m,"odometer-first-value")}0>l&&this.addDigit("-");d=this.inside.querySelector(".odometer-radix-mark");null!=d&&d.parent.removeChild(d);if(i)return this.addSpacer(this.format.radix,this.digits[i-1],"odometer-radix-mark")}};return b}();i.options=null!=(G=window.odometerOptions)?G:{};setTimeout(function(){var b,a,e,c,d;if(window.odometerOptions){c=window.odometerOptions;d=[];for(b in c)a=c[b],d.push(null!=(e=i.options)[b]?
(e=i.options)[b]:e[b]=a);return d}},0);i.init=function(){var b,a,e,c,d,f;if(null!=document.querySelectorAll){a=document.querySelectorAll(i.options.selector||".odometer");f=[];for(e=0,c=a.length;e<c;e++)b=a[e],f.push(b.odometer=new i({el:b,value:null!=(d=b.innerText)?d:b.textContent}));return f}};null!=(null!=(H=document.documentElement)?H.doScroll:void 0)&&null!=document.createEventObject?(A=document.onreadystatechange,document.onreadystatechange=function(){"complete"===document.readyState&&!1!==
i.options.auto&&i.init();return null!=A?A.apply(this,arguments):void 0}):document.addEventListener("DOMContentLoaded",function(){if(!1!==i.options.auto)return i.init()},!1);"function"===typeof define&&define.amd?define(["jquery"],function(){return i}):!1===typeof exports?module.exports=i:window.Odometer=i}).call(this);
