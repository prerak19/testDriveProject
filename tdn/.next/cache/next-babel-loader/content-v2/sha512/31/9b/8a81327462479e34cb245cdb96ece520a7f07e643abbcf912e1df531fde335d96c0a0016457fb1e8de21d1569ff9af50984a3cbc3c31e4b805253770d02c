{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _jsxFileName = \"/home/encora/Documents/projects/testDrive/tdn/components/car-select/selectCar.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @format */\nimport styles from \"./../../styles/Home.module.css\";\nimport btnStyles from \"./../../styles/Btn.module.css\";\nimport Head from \"next/head\";\nimport SechduleContent from \"../../common-component/sechduleDesc\";\nimport StepBar from \"./../../components/step-bar/stepBar\";\nimport StepBarV1 from \"./../../components/step-bar/stepBarV1\";\nimport StepbarV1Style from \"./../../styles/StepBarV1.module.css\";\nimport CryptoJS from \"crypto-js\"; // import { minifyRecords, carsTableBase } from './api/utils/airtable';\n\nimport React from \"react\";\nimport Axios from \"axios\";\nimport { useCarData, useUpdateCarData } from \"./../../contexts/CarDataContext\"; // import { useTableData } from './../../contexts/TableDataContext';\n\nexport default function selectCar(props) {\n  _s();\n\n  var _this = this;\n\n  var _React$useState = React.useState(false),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      isSelected = _React$useState2[0],\n      setisSelected = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      selectedCar = _React$useState4[0],\n      setSelectedCar = _React$useState4[1];\n\n  var initialCarRecords = props.initialCarRecords,\n      setSelectedCarData = props.setSelectedCarData;\n\n  var _React$useState5 = React.useState(\"Make\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      selectedBrand = _React$useState6[0],\n      setSelectedBrand = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"Modal\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      selectedModal = _React$useState8[0],\n      setSelectedModal = _React$useState8[1];\n\n  var _React$useState9 = React.useState([]),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      brands = _React$useState10[0],\n      setBrands = _React$useState10[1];\n\n  var _React$useState11 = React.useState([]),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      brandsInRooftop = _React$useState12[0],\n      setBrandsInRooftop = _React$useState12[1];\n\n  var _React$useState13 = React.useState(initialCarRecords),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      modals = _React$useState14[0],\n      setModals = _React$useState14[1];\n\n  var _React$useState15 = React.useState(initialCarRecords),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      allCars = _React$useState16[0],\n      setAllCars = _React$useState16[1];\n\n  var _React$useState17 = React.useState(false),\n      _React$useState18 = _slicedToArray(_React$useState17, 2),\n      btnDisabled = _React$useState18[0],\n      setBtnDisabled = _React$useState18[1];\n\n  React.useEffect(function () {\n    var page = localStorage.getItem(\"currentPage\");\n    var decryptedData;\n\n    if (page) {\n      var bytes = CryptoJS.AES.decrypt(page, \"SECRET_KEY\");\n\n      if (Math.sign(bytes.sigBytes) === -1 || bytes.sigBytes === 0) {\n        var ciphertext = CryptoJS.AES.encrypt(\"1\", \"SECRET_KEY\").toString();\n        localStorage.setItem(\"currentPage\", ciphertext);\n      } else {\n        decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n      }\n    }\n\n    props.goToStep(decryptedData || 1);\n    getCarDetails();\n  }, [props.onReload]);\n\n  var getCarDetails = function getCarDetails() {\n    var carId = localStorage.getItem(\"carId\");\n    Axios.get(\"/api/get-car/\".concat(carId)).then(function (response) {\n      setSelectedCar(response.data);\n      props.setSelectedCarData(response.data);\n      setisSelected(true);\n    }, function (error) {\n      console.log(error);\n    });\n  };\n\n  var data = useCarData();\n  var updateSelectedCarData = useUpdateCarData();\n  React.useEffect(function () {\n    props.scrollToTop();\n  }, [props.isActive]);\n\n  var getUniqueBrands = function getUniqueBrands(allBrands) {\n    var availableBrands = [];\n    allBrands.map(function (brand) {\n      initialCarRecords.map(function (carRecord) {\n        if (carRecord.fields.Brand[0] === brand.id) {\n          // availableBrands[brand.fields.Name] = brand.id;\n          // let obj = { name: brand.fields.Name, id: brand.id };\n          if (availableBrands.includes(brand.fields.Name)) {\n            console.log(\"contains this brand already \");\n          } else {\n            availableBrands.push(brand.fields.Name);\n          }\n        }\n      });\n    });\n    setBrandsInRooftop(availableBrands);\n  };\n\n  var addCarDetails = function addCarDetails(e, carRecord) {\n    e.preventDefault();\n    console.log(\"rooftop data\", props.rooftopData);\n    var userId = localStorage.getItem(\"userId\");\n\n    if (userId) {\n      selectCarToLocalStorage(carRecord);\n      setBtnDisabled(false);\n      props.setSelectedCarData(carRecord);\n      props.setNextPage();\n      props.nextStep();\n    } else {\n      Axios.post(\"/api/user/addUser\", {\n        rooftopId: props.rooftopData && props.rooftopData.id\n      }).then(function (res) {\n        if (res.data) {\n          var _userId = res.data[0].id;\n          localStorage.setItem(\"userId\", _userId);\n          selectCarToLocalStorage(carRecord);\n          setBtnDisabled(false);\n          props.setSelectedCarData(carRecord);\n          props.setNextPage();\n          props.nextStep();\n        }\n      })[\"catch\"](function (err) {\n        return console.log(err);\n      });\n    }\n  };\n\n  React.useEffect( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            Axios.get(\"/api/getBrand\").then(function (response) {\n              setBrands(response.data);\n              getUniqueBrands(response.data);\n            }, function (error) {\n              console.log(error);\n            });\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), []);\n\n  var filterCarModals = function filterCarModals(brandId) {\n    var selectedBrandCars = initialCarRecords.filter(function (element) {\n      return element.fields.Brand[0] === brandId;\n    });\n    setModals(selectedBrandCars);\n    setAllCars(selectedBrandCars);\n  };\n\n  var searchCar = function searchCar() {\n    Axios.get(\"/api/get-car/\".concat(selectedModal)).then(function (response) {\n      setAllCars([response.data]);\n    }, function (error) {\n      console.log(error);\n    });\n  };\n\n  var selectCarToLocalStorage = function selectCarToLocalStorage(carDetails) {\n    localStorage.setItem(\"carId\", carDetails.id);\n  };\n\n  var findBrandId = function findBrandId(name) {\n    var found = brands.find(function (brand) {\n      return brand.fields.Name === name;\n    });\n    return found.id;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"\".concat(props.currentPage === 1 ? \"block\" : \"none\")\n    },\n    children: [/*#__PURE__*/_jsxDEV(Head, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Test Drive\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"link\", {\n        rel: \"preload\",\n        href: \"/web-fonts/Poppins-Black.ttf\",\n        as: \"font\",\n        crossOrigin: \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-sm-12 col-md-7 col-lg-7 min-width-desktop\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"\",\n            children: /*#__PURE__*/_jsxDEV(SechduleContent, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 176,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3 mb-2\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.progressContent,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: StepbarV1Style.hideForMobile,\n                children: /*#__PURE__*/_jsxDEV(StepBarV1, _objectSpread({\n                  active: 1\n                }, props), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: StepbarV1Style.hideForLaptop,\n                children: /*#__PURE__*/_jsxDEV(StepBarV1, _objectSpread({\n                  active: 1,\n                  mobile: true\n                }, props), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 186,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 185,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"marTopBot10 marTB20\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: styles.slctContent,\n              children: [/*#__PURE__*/_jsxDEV(\"select\", {\n                className: styles.slctstyle1,\n                id: \"sel1\",\n                onChange: function onChange(e) {\n                  if (e.target.value === \"reset\") {\n                    var newModals = modals;\n                    setModals(newModals);\n                    setAllCars(initialCarRecords);\n                  } else {\n                    filterCarModals(e.target.value);\n                  }\n\n                  setSelectedBrand(e.target.value);\n                },\n                value: selectedBrand,\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"reset\",\n                  children: \"Make\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 208,\n                  columnNumber: 19\n                }, this), brandsInRooftop.length > 0 && brandsInRooftop.map(function (brandName, index) {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: findBrandId(brandName),\n                    children: brandName\n                  }, \"make\".concat(index), false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 211,\n                    columnNumber: 23\n                  }, _this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                className: styles.maKeslctstyle,\n                id: \"sel1\" // defaultValue=\"Modal\"\n                ,\n                value: selectedModal // onChange={(e) => {\n                //   setSelectedModal(e.target.value);\n                // }}\n                ,\n                onChange: function onChange(e) {\n                  var searchedCar = initialCarRecords.find(function (element) {\n                    return element.id === e.target.value;\n                  });\n                  setAllCars([searchedCar]);\n                  setSelectedModal(e.target.value);\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  disabled: true,\n                  children: \"Modal\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 19\n                }, this), modals.length > 0 && modals.map(function (modal, index) {\n                  return /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: modal.id,\n                    children: modal.fields.Name\n                  }, \"make\".concat(index), false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 238,\n                    columnNumber: 23\n                  }, _this);\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 219,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [allCars.map(function (carRecord, index) {\n              var _jsxDEV2;\n\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.vehicleCard,\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row mr-0 ml-0\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-3 col-lg-3 col-sm-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: styles.imgParentDiv,\n                      children: /*#__PURE__*/_jsxDEV(\"img\", {\n                        className: styles.cardcarPic,\n                        src: carRecord && carRecord.fields.Image ? carRecord.fields.Image[0].url : \"\",\n                        alt: \"car\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 262,\n                        columnNumber: 25\n                      }, _this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-md-6 col-lg-6 col-sm-12\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"dflex\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: styles.carnameDesc,\n                        children: brands.length > 0 ? brands.map(function (brand, index) {\n                          if (carRecord.fields.Brand[0] === brand.id) {\n                            return /*#__PURE__*/_jsxDEV(\"span\", {\n                              children: \"\".concat(brand.fields.Name, \" \").concat(carRecord.fields.Name)\n                            }, \"carName\".concat(index), false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 280,\n                              columnNumber: 35\n                            }, _this);\n                          }\n                        }) : /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Loading . . .\"\n                        }, \"carName\".concat(index), false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 287,\n                          columnNumber: 29\n                        }, _this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 275,\n                        columnNumber: 25\n                      }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n                        className: styles.carViewDetails,\n                        children: \"View details\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 293,\n                        columnNumber: 25\n                      }, _this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 274,\n                      columnNumber: 23\n                    }, _this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 21\n                  }, _this), /*#__PURE__*/_jsxDEV(\"div\", (_jsxDEV2 = {\n                    className: \"col-md-3 col-lg-3 col-sm-12\"\n                  }, _defineProperty(_jsxDEV2, \"className\", styles.marAuto), _defineProperty(_jsxDEV2, \"children\", /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: isSelected && selectedCar.id === carRecord.id ? btnStyles.selected : btnStyles.select,\n                    type: \"button\",\n                    disabled: btnDisabled,\n                    onClick: function onClick(e) {\n                      if (isSelected && selectedCar.id !== carRecord.id) {\n                        setisSelected(true);\n                      } else {\n                        setisSelected(!isSelected);\n                      }\n\n                      setSelectedCar(carRecord);\n                      setBtnDisabled(true);\n                      addCarDetails(e, carRecord);\n                      updateSelectedCarData(carRecord);\n                    },\n                    children: isSelected && selectedCar.id === carRecord.id ? \"Selected\" : \"Choose\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 300,\n                    columnNumber: 23\n                  }, _this)), _jsxDEV2), void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 296,\n                    columnNumber: 21\n                  }, _this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 19\n                }, _this)\n              }, carRecord.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 17\n              }, _this);\n            }), isSelected ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                height: \"75px\"\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 29\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 256,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n}\n\n_s(selectCar, \"9bXcKXWgZ/ZXsQcC+9zrqXk2dyo=\", false, function () {\n  return [useCarData, useUpdateCarData];\n});","map":{"version":3,"sources":["/home/encora/Documents/projects/testDrive/tdn/components/car-select/selectCar.js"],"names":["styles","btnStyles","Head","SechduleContent","StepBar","StepBarV1","StepbarV1Style","CryptoJS","React","Axios","useCarData","useUpdateCarData","selectCar","props","useState","isSelected","setisSelected","selectedCar","setSelectedCar","initialCarRecords","setSelectedCarData","selectedBrand","setSelectedBrand","selectedModal","setSelectedModal","brands","setBrands","brandsInRooftop","setBrandsInRooftop","modals","setModals","allCars","setAllCars","btnDisabled","setBtnDisabled","useEffect","page","localStorage","getItem","decryptedData","bytes","AES","decrypt","Math","sign","sigBytes","ciphertext","encrypt","toString","setItem","JSON","parse","enc","Utf8","goToStep","getCarDetails","onReload","carId","get","then","response","data","error","console","log","updateSelectedCarData","scrollToTop","isActive","getUniqueBrands","allBrands","availableBrands","map","brand","carRecord","fields","Brand","id","includes","Name","push","addCarDetails","e","preventDefault","rooftopData","userId","selectCarToLocalStorage","setNextPage","nextStep","post","rooftopId","res","err","filterCarModals","brandId","selectedBrandCars","filter","element","searchCar","carDetails","findBrandId","name","found","find","display","currentPage","progressContent","hideForMobile","hideForLaptop","slctContent","slctstyle1","target","value","newModals","length","brandName","index","maKeslctstyle","searchedCar","modal","vehicleCard","imgParentDiv","cardcarPic","Image","url","carnameDesc","carViewDetails","marAuto","selected","select","height"],"mappings":"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","sourcesContent":["/** @format */\n\nimport styles from \"./../../styles/Home.module.css\";\nimport btnStyles from \"./../../styles/Btn.module.css\";\nimport Head from \"next/head\";\nimport SechduleContent from \"../../common-component/sechduleDesc\";\nimport StepBar from \"./../../components/step-bar/stepBar\";\nimport StepBarV1 from \"./../../components/step-bar/stepBarV1\";\nimport StepbarV1Style from \"./../../styles/StepBarV1.module.css\";\nimport CryptoJS from \"crypto-js\";\n// import { minifyRecords, carsTableBase } from './api/utils/airtable';\nimport React from \"react\";\nimport Axios from \"axios\";\n\nimport { useCarData, useUpdateCarData } from \"./../../contexts/CarDataContext\";\n// import { useTableData } from './../../contexts/TableDataContext';\n\nexport default function selectCar(props) {\n  const [isSelected, setisSelected] = React.useState(false);\n  const [selectedCar, setSelectedCar] = React.useState(\"\");\n  const { initialCarRecords, setSelectedCarData } = props;\n  const [selectedBrand, setSelectedBrand] = React.useState(\"Make\");\n  const [selectedModal, setSelectedModal] = React.useState(\"Modal\");\n  const [brands, setBrands] = React.useState([]);\n  const [brandsInRooftop, setBrandsInRooftop] = React.useState([]);\n  const [modals, setModals] = React.useState(initialCarRecords);\n  const [allCars, setAllCars] = React.useState(initialCarRecords);\n  const [btnDisabled, setBtnDisabled] = React.useState(false);\n\n  React.useEffect(() => {\n    let page = localStorage.getItem(\"currentPage\");\n    let decryptedData;\n    if (page) {\n      let bytes = CryptoJS.AES.decrypt(page, \"SECRET_KEY\");\n      if (Math.sign(bytes.sigBytes) === -1 || bytes.sigBytes === 0) {\n        var ciphertext = CryptoJS.AES.encrypt(`1`, \"SECRET_KEY\").toString();\n        localStorage.setItem(\"currentPage\", ciphertext);\n      } else {\n        decryptedData = JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n      }\n    }\n    props.goToStep(decryptedData || 1);\n    getCarDetails();\n  }, [props.onReload]);\n\n  const getCarDetails = () => {\n    let carId = localStorage.getItem(\"carId\");\n    Axios.get(`/api/get-car/${carId}`).then(\n      (response) => {\n        setSelectedCar(response.data);\n        props.setSelectedCarData(response.data);\n        setisSelected(true);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n\n  const data = useCarData();\n  const updateSelectedCarData = useUpdateCarData();\n  React.useEffect(() => {\n    props.scrollToTop();\n  }, [props.isActive]);\n\n  const getUniqueBrands = (allBrands) => {\n    let availableBrands = [];\n    allBrands.map((brand) => {\n      initialCarRecords.map((carRecord) => {\n        if (carRecord.fields.Brand[0] === brand.id) {\n          // availableBrands[brand.fields.Name] = brand.id;\n          // let obj = { name: brand.fields.Name, id: brand.id };\n          if (availableBrands.includes(brand.fields.Name)) {\n            console.log(\"contains this brand already \");\n          } else {\n            availableBrands.push(brand.fields.Name);\n          }\n        }\n      });\n    });\n    setBrandsInRooftop(availableBrands);\n  };\n\n  const addCarDetails = (e, carRecord) => {\n    e.preventDefault();\n    console.log(\"rooftop data\", props.rooftopData);\n    let userId = localStorage.getItem(\"userId\");\n    if (userId) {\n      selectCarToLocalStorage(carRecord);\n      setBtnDisabled(false);\n      props.setSelectedCarData(carRecord);\n      props.setNextPage();\n      props.nextStep();\n    } else {\n      Axios.post(\"/api/user/addUser\", {\n        rooftopId: props.rooftopData && props.rooftopData.id,\n      })\n        .then((res) => {\n          if (res.data) {\n            let userId = res.data[0].id;\n            localStorage.setItem(\"userId\", userId);\n            selectCarToLocalStorage(carRecord);\n            setBtnDisabled(false);\n            props.setSelectedCarData(carRecord);\n            props.setNextPage();\n            props.nextStep();\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  React.useEffect(async () => {\n    Axios.get(\"/api/getBrand\").then(\n      (response) => {\n        setBrands(response.data);\n        getUniqueBrands(response.data);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  }, []);\n\n  const filterCarModals = (brandId) => {\n    const selectedBrandCars = initialCarRecords.filter(\n      (element) => element.fields.Brand[0] === brandId\n    );\n    setModals(selectedBrandCars);\n    setAllCars(selectedBrandCars);\n  };\n  const searchCar = () => {\n    Axios.get(`/api/get-car/${selectedModal}`).then(\n      (response) => {\n        setAllCars([response.data]);\n      },\n      (error) => {\n        console.log(error);\n      }\n    );\n  };\n  const selectCarToLocalStorage = (carDetails) => {\n    localStorage.setItem(\"carId\", carDetails.id);\n  };\n\n  const findBrandId = (name) => {\n    let found = brands.find((brand) => brand.fields.Name === name);\n    return found.id;\n  };\n\n  return (\n    <div style={{ display: `${props.currentPage === 1 ? \"block\" : \"none\"}` }}>\n      <Head>\n        <title>Test Drive</title>\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n        <link\n          rel=\"preload\"\n          href=\"/web-fonts/Poppins-Black.ttf\"\n          as=\"font\"\n          crossOrigin=\"\"\n        />\n      </Head>\n\n      <div className=\"container-fluid\">\n        <div className=\"row justify-content-center\">\n          {/* <div className=\"col-sm-12 col-md-5 col-lg-5 hideContent\">\n            <img\n              className=\"d-block w-100\"\n              className={styles.imageborder}\n              src=\"/carDriving.png\"\n              alt=\"Picture of the car\"\n            />\n          </div> */}\n          <div className=\"col-sm-12 col-md-7 col-lg-7 min-width-desktop\">\n            <div className=\"\">\n              <SechduleContent />\n            </div>\n\n            <div className=\"mt-3 mb-2\">\n              <div className={styles.progressContent}>\n                {/* <StepBar activeStep=\"1\" size=\"4\" /> */}\n                <div className={StepbarV1Style.hideForMobile}>\n                  <StepBarV1 active={1}  {...props}/>\n                </div>\n                <div className={StepbarV1Style.hideForLaptop}>\n                  <StepBarV1 active={1} mobile={true}  {...props}/>\n                </div>\n              </div>\n            </div>\n\n            <div className=\"marTopBot10 marTB20\">\n              <div className={styles.slctContent}>\n                <select\n                  className={styles.slctstyle1}\n                  id=\"sel1\"\n                  onChange={(e) => {\n                    if (e.target.value === \"reset\") {\n                      let newModals = modals;\n                      setModals(newModals);\n                      setAllCars(initialCarRecords);\n                    } else {\n                      filterCarModals(e.target.value);\n                    }\n                    setSelectedBrand(e.target.value);\n                  }}\n                  value={selectedBrand}\n                >\n                  <option value=\"reset\">Make</option>\n                  {brandsInRooftop.length > 0 &&\n                    brandsInRooftop.map((brandName, index) => (\n                      <option\n                        key={`make${index}`}\n                        value={findBrandId(brandName)}\n                      >\n                        {brandName}\n                      </option>\n                    ))}\n                </select>\n                <select\n                  className={styles.maKeslctstyle}\n                  id=\"sel1\"\n                  // defaultValue=\"Modal\"\n                  value={selectedModal}\n                  // onChange={(e) => {\n                  //   setSelectedModal(e.target.value);\n                  // }}\n                  onChange={(e) => {\n                    const searchedCar = initialCarRecords.find(\n                      (element) => element.id === e.target.value\n                    );\n                    setAllCars([searchedCar]);\n                    setSelectedModal(e.target.value);\n                  }}\n                >\n                  <option disabled={true}>Modal</option>\n                  {modals.length > 0 &&\n                    modals.map((modal, index) => (\n                      <option key={`make${index}`} value={modal.id}>\n                        {modal.fields.Name}\n                      </option>\n                    ))}\n                </select>\n                {/* <button\n                  type=\"button\"\n                  className={styles.saerchBTn}\n                  onClick={() => {\n                    // setAllCars(modals);\n                    searchCar();\n                  }}\n                >\n                  Search\n                </button> */}\n              </div>\n            </div>\n\n            <div>\n              {allCars.map((carRecord, index) => (\n                <div key={carRecord.id} className={styles.vehicleCard}>\n                  <div className=\"row mr-0 ml-0\">\n                    <div className=\"col-md-3 col-lg-3 col-sm-12\">\n                      <div className={styles.imgParentDiv}>\n                        <img\n                          className={styles.cardcarPic}\n                          src={\n                            carRecord && carRecord.fields.Image\n                              ? carRecord.fields.Image[0].url\n                              : \"\"\n                          }\n                          alt=\"car\"\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-md-6 col-lg-6 col-sm-12\">\n                      <div className=\"dflex\">\n                        <p className={styles.carnameDesc}>\n                          {brands.length > 0 ? (\n                            brands.map((brand, index) => {\n                              if (carRecord.fields.Brand[0] === brand.id) {\n                                return (\n                                  <span\n                                    key={`carName${index}`}\n                                  >{`${brand.fields.Name} ${carRecord.fields.Name}`}</span>\n                                );\n                              }\n                            })\n                          ) : (\n                            <span key={`carName${index}`}>\n                              {/* {carRecord.fields.Name} */}\n                              Loading . . .\n                            </span>\n                          )}\n                        </p>\n                        <p className={styles.carViewDetails}>View details</p>\n                      </div>\n                    </div>\n                    <div\n                      className=\"col-md-3 col-lg-3 col-sm-12\"\n                      className={styles.marAuto}\n                    >\n                      <button\n                        className={\n                          isSelected && selectedCar.id === carRecord.id\n                            ? btnStyles.selected\n                            : btnStyles.select\n                        }\n                        type=\"button\"\n                        disabled={btnDisabled}\n                        onClick={(e) => {\n                          if (isSelected && selectedCar.id !== carRecord.id) {\n                            setisSelected(true);\n                          } else {\n                            setisSelected(!isSelected);\n                          }\n                          setSelectedCar(carRecord);\n                          setBtnDisabled(true);\n                          addCarDetails(e, carRecord);\n                          updateSelectedCarData(carRecord);\n                        }}\n                      >\n                        {isSelected && selectedCar.id === carRecord.id\n                          ? \"Selected\"\n                          : \"Choose\"}\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n              {isSelected ? <div style={{ height: \"75px\" }}></div> : <></>}\n            </div>\n            {/* <div\n              className={isSelected ? \"relativepos fixedPos\" : \"relativepos\"}\n            >\n              <div\n                className={!isSelected ? styles.btnSec : styles.btnSecSelect}\n              >\n                <button type=\"button\" className={btnStyles.secondary}>\n                  Back\n                </button>\n                <button\n                  type=\"button\"\n                  className={\n                    isSelected ? btnStyles.primary : btnStyles.primaryDisabled\n                  }\n                  onClick={() => {\n                    props.setNextPage();\n                    props.nextStep();\n                  }}\n                  disabled={!isSelected}\n                >\n                  Continue\n                </button>\n              </div>\n            </div> */}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}