{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nvar _jsxFileName = \"/home/encora/Documents/projects/testDrive/tdn/components/pick-date-time/pickDateTime.js\",\n    _s = $RefreshSig$();\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\n/** @format */\nimport btnStyles from './../../styles/Btn.module.css';\nimport Image from 'next/image';\nimport React, { useState, useEffect } from 'react';\nimport SechduleContent from './../../common-component/sechduleDesc';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css'; // requires a loader\n\nimport { Carousel } from 'react-responsive-carousel';\nimport styles from '../../styles/Home.module.css';\nimport StepBarV1 from './../../components/step-bar/stepBarV1';\nimport StepbarV1Style from './../../styles/StepBarV1.module.css';\nimport Axios from 'axios';\nimport Calendar from 'react-calendar';\nimport moment from 'moment-timezone';\nimport Dropdown from './dropDown';\nimport StepBar from './../../components/step-bar/stepBar';\nimport { useUpdatedDateTimeData } from '../../contexts/DateTimeDataContext'; // import StepBarV1 from \"./../../components/step-bar/stepBarV1\";\n// import DateTimeSlot from './pickDateTimeSlot';\n\nexport default function pickDateTime(props) {\n  _s();\n\n  var _this = this;\n\n  var _useState = useState(null),\n      carData = _useState[0],\n      setCarData = _useState[1];\n\n  var _useState2 = useState(new Date()),\n      selectedDate = _useState2[0],\n      onDateChange = _useState2[1];\n\n  var _useState3 = useState(props.selectedDateTime),\n      time = _useState3[0],\n      setTime = _useState3[1];\n\n  var _useState4 = useState(),\n      calenderData = _useState4[0],\n      setCalenderData = _useState4[1];\n\n  var _useState5 = useState(''),\n      brand = _useState5[0],\n      setBrand = _useState5[1];\n\n  var _useState6 = useState(false),\n      btnDisabled = _useState6[0],\n      setBtnDisabled = _useState6[1];\n\n  var _useState7 = useState('America/New_York'),\n      timeZone = _useState7[0],\n      setTimeZone = _useState7[1];\n\n  var _useState8 = useState(false),\n      loadingSlots = _useState8[0],\n      setLoading = _useState8[1];\n\n  var _useState9 = useState([]),\n      availableSlots = _useState9[0],\n      setAvailableSlots = _useState9[1];\n\n  var timeZones = [{\n    title: 'Eastern Time - US & Canada ',\n    value: 'America/New_York'\n  }, {\n    title: 'Central Time - US & Canada ',\n    value: 'America/Chicago'\n  }, {\n    title: 'Mountain Time - US & Canada ',\n    value: 'America/Denver'\n  }, {\n    title: 'Pacific Time - US & Canada ',\n    value: 'America/Los_Angeles'\n  }];\n  var data = useUpdatedDateTimeData();\n\n  var setDateTime = function setDateTime(e) {\n    e.preventDefault();\n    var driveForm = localStorage.getItem('driveForm');\n    var dupDriveForm = JSON.parse(driveForm);\n    Axios.post('/api/user/updateDate', {\n      UserID: localStorage.getItem('userId'),\n      Date: time\n    }).then(function (res) {\n      if (res.data) {\n        var obj = _objectSpread(_objectSpread({}, dupDriveForm), {}, {\n          time: time,\n          timeZone: timeZone\n        });\n\n        localStorage.setItem('driveForm', JSON.stringify(obj));\n        setBtnDisabled(false);\n        props.setNextPage();\n        props.nextStep();\n      }\n    })[\"catch\"](function (err) {\n      return console.log(err);\n    });\n  };\n\n  useEffect(function () {\n    if (props.onReload) {\n      var driveForm = localStorage.getItem('driveForm');\n\n      if (driveForm) {\n        var obj = JSON.parse(driveForm);\n\n        if (obj.timeZone) {\n          setTimeZone(obj.timeZone);\n        }\n\n        if (obj.time) {\n          var selectedTime = obj.time;\n\n          if (moment(selectedTime).isBefore(moment(new Date()))) {\n            delete obj.time;\n            props.setThisPage(2);\n            props.goToStep(2);\n            invalidDateCheck(obj);\n          } else {\n            onDateChange(new Date(selectedTime));\n            setTime(selectedTime);\n          }\n        } else {\n          invalidDateCheck(obj);\n        }\n      }\n    }\n\n    if (props.selectedCarData) {\n      setCarData(props.selectedCarData);\n    }\n  }, [props.onReload, props.selectedCarData]);\n\n  var invalidDateCheck = function invalidDateCheck(obj) {\n    onDateChange(new Date());\n    localStorage.setItem('driveForm', JSON.stringify(obj));\n  };\n\n  useEffect(function () {\n    props.setSelectedDateTime(time);\n  }, [time]);\n  var settings = {\n    showIndicators: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    showArrows: false,\n    showStatus: false,\n    legend: false,\n    autoPlay: false,\n    interval: '5000',\n    infiniteLoop: true,\n    transitionTime: '1000'\n  }; // const getAvailableSlot = (date) => {\n  //   setCalenderData([]);\n  //   setLoading(true);\n  //   let firstDay = moment(date).startOf('month').format('YYYY-MM-DD');\n  //   let lastDay = moment(date).endOf('month').format('YYYY-MM-DD');\n  //   Axios.get(`/api/getCalendarEvents`, {\n  //     params: {\n  //       firstDay,\n  //       lastDay,\n  //       timezone: timeZone,\n  //     },\n  //   }).then(\n  //     (response) => {\n  //       onDateChange(date);\n  //       setCalenderData(response.data);\n  //       setLoading(false);\n  //     },\n  //     (error) => {\n  //       setLoading(false);\n  //       console.log(error);\n  //     }\n  //   );\n  // };\n\n  var getSlots = function getSlots(selectedDate) {\n    var slots = [];\n\n    for (var i = 10; i < 18; i++) {\n      var dateHere = moment(selectedDate).tz(timeZone).set({\n        hour: i,\n        minute: 0\n      });\n      slots.push(dateHere.format());\n    }\n\n    console.log('slots ', slots);\n    return slots;\n  };\n\n  useEffect(function () {\n    console.log(selectedDate);\n    var dayNumber = moment(selectedDate).format('d');\n    console.log(dayNumber);\n\n    if (dayNumber != 0 && dayNumber != 6) {\n      setAvailableSlots(getSlots(selectedDate));\n    } else {\n      setAvailableSlots([]);\n    }\n\n    setTime('');\n  }, [selectedDate]); // useEffect(() => {\n  //   if (props.isActive === true) {\n  //     getAvailableSlot(selectedDate || new Date());\n  //   }\n  // }, [props.isActive]);\n\n  useEffect(function () {\n    props.scrollToTop();\n  }, [props.isActive]);\n  useEffect(function () {\n    var brandName = '';\n\n    if (props.isActive === true && props.selectedCarData && props.selectedCarData.fields) {\n      Axios.get(\"/api/get-brand/\".concat(props.selectedCarData.fields.Brand[0])).then(function (response) {\n        brandName = response.data.fields.Name;\n        setBrand(brandName);\n      }, function (error) {\n        console.log(error);\n      });\n    }\n\n    setCarData(props.selectedCarData);\n  }, [props.isActive, props.onReload, props.selectedCarData]);\n\n  var renderImages = function renderImages() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"\".concat(props.currentPage === 2 ? 'block' : 'none')\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"carSlidercss\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pickcar\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"I want to drive a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, _this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(Carousel, _objectSpread(_objectSpread({}, settings), {}, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: carData && carData.fields ? carData.fields.Image[0].thumbnails.large.url : '',\n              alt: \"selected car image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 205,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"legend\",\n              children: carData && carData.fields && carData.fields.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: carData && carData.fields ? carData.fields.Image[0].thumbnails.large.url : '',\n              alt: \"selected car image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"legend\",\n              children: carData && carData.fields && carData.fields.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 226,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: carData && carData.fields ? carData.fields.Image[0].thumbnails.large.url : '',\n              alt: \"selected car image\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 15\n            }, _this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"legend\",\n              children: carData && carData.fields && carData.fields.Name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 15\n            }, _this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 13\n          }, _this)]\n        }), void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 203,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 7\n    }, _this);\n  }; // let totalSlots =\n  //   calenderData &&\n  //   calenderData.filter(\n  //     (i) => i.date === moment(selectedDate).format('YYYY-MM-DD')\n  //   );\n  // let availableSlots =\n  //   totalSlots &&\n  //   totalSlots[0] &&\n  //   totalSlots[0].spots.filter((i) => i.status === 'available');\n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"\".concat(props.currentPage === 2 ? 'block' : 'none')\n    },\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container-fluid height100vh\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hideContent\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row justify-content-center\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-12 col-md-7 col-lg-7  min-width-desktop\",\n            children: [/*#__PURE__*/_jsxDEV(SechduleContent, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\".concat(styles.progressContent, \" marTopBot20\"),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: StepbarV1Style.hideForMobile,\n                children: /*#__PURE__*/_jsxDEV(StepBarV1, _objectSpread({}, props), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 286,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 283,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pickContent\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12 col-md-8 col-lg-8\",\n                    children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: \"Select a Date & Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(Calendar, {\n                        minDate: new Date(),\n                        maxDate: new Date(moment().add(59, 'days')),\n                        onChange: onDateChange,\n                        value: selectedDate,\n                        className: \"manualReactCalendar\",\n                        next2Label: null,\n                        prev2Label: null,\n                        calendarType: \"US\" // onActiveStartDateChange={({\n                        //   activeStartDate,\n                        //   value,\n                        //   view,\n                        // }) => {\n                        //   onDateChange(activeStartDate);\n                        //   // getAvailableSlot(activeStartDate)\n                        // }}\n\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 295,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 294,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 292,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12 col-md-4 col-lg-4 pl-0 pr-0\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"timeZoneslct\",\n                      children: timeZone && /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: timeZones.find(function (x, i) {\n                          return x.value === timeZone;\n                        }).title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 359,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 357,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"timechoose\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: moment(selectedDate).format('dddd, MMMM DD')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 25\n                      }, this), loadingSlots && (!availableSlots || availableSlots.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"loaderContent\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"loader\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 372,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 29\n                      }, this), availableSlots && availableSlots.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"slots\",\n                        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                          children: (availableSlots || []).map(function (i, key) {\n                            return /*#__PURE__*/_jsxDEV(\"li\", {\n                              className: i === time ? 'selectedTimeContainer' : 'timeContainer',\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                style: {\n                                  fontSize: '12px'\n                                },\n                                className: 'chooseTimeElement',\n                                children: moment(i).tz(timeZone).format('LT')\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 387,\n                                columnNumber: 35\n                              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                style: {\n                                  fontSize: '12px'\n                                },\n                                className: i === time ? 'selected-time' : 'chooseTime',\n                                onClick: function onClick() {\n                                  setTime(i);\n                                  data(i);\n                                },\n                                children: i === time ? 'Selected' : 'Select'\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 394,\n                                columnNumber: 35\n                              }, _this)]\n                            }, key, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 379,\n                              columnNumber: 33\n                            }, _this);\n                          })\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 377,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 376,\n                        columnNumber: 27\n                      }, this), (!availableSlots || availableSlots.length === 0) && !loadingSlots && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center no-time-slot\",\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: [\"No times available\", ' ', moment(selectedDate).format('MMMM DD')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 416,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 420,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Please select another date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 421,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 415,\n                        columnNumber: 29\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 315,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 291,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \" mt-3 relativepos\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.btnSec,\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: btnStyles.secondary,\n                  onClick: function onClick() {\n                    props.setPreviousPage();\n                    props.previousStep();\n                  },\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: time !== '' ? btnStyles.primary : btnStyles.primaryDisabled,\n                  onClick: function onClick(e) {\n                    setBtnDisabled(true);\n                    setDateTime(e);\n                  },\n                  disabled: time === '' || btnDisabled,\n                  children: \"Continue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 444,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 281,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"hideForMobile\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row \",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-12 col-md-5 col-lg-5 min-width-desktop\",\n            children: [/*#__PURE__*/_jsxDEV(SechduleContent, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 469,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"\".concat(styles.progressContent, \" marTopBot20\"),\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: StepbarV1Style.hideForLaptop,\n                children: /*#__PURE__*/_jsxDEV(StepBarV1, _objectSpread({\n                  mobile: true\n                }, props), void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 473,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 472,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: carData && carData.fields && renderImages()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"pickcardesc\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: brand ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [brand, \" \", carData && carData.fields ? carData.fields.Name : 'sample car name']\n                }, void 0, true) : 'Loading . . .'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 478,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 477,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 468,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-sm-12 col-md-7 col-lg-7 min-width-desktop\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"marTopBot20\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"pickContent\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12 col-md-6 col-lg-6\",\n                    children: /*#__PURE__*/_jsxDEV(\"h6\", {\n                      children: \"Select a Date & Time\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 499,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 498,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12 col-md-6 col-lg-6 pl-0 pr-0\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"timeZoneslct\",\n                      children: timeZone && /*#__PURE__*/_jsxDEV(\"label\", {\n                        children: timeZones.find(function (x, i) {\n                          return x.value === timeZone;\n                        }).title\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 545,\n                        columnNumber: 27\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 543,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 501,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 497,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"row\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12 col-md-8 col-lg-8\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: /*#__PURE__*/_jsxDEV(Calendar, {\n                        minDate: new Date(),\n                        maxDate: new Date(moment().add(59, 'days')),\n                        onChange: onDateChange,\n                        value: selectedDate,\n                        className: \"manualReactCalendar\",\n                        next2Label: null,\n                        prev2Label: null,\n                        calendarType: \"US\",\n                        onActiveStartDateChange: function onActiveStartDateChange(_ref) {\n                          var activeStartDate = _ref.activeStartDate,\n                              value = _ref.value,\n                              view = _ref.view;\n                          onDateChange(activeStartDate); // getAvailableSlot(activeStartDate)\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 559,\n                        columnNumber: 25\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 558,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 556,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"col-sm-12 col-md-4 col-lg-4\",\n                    children: /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"timechoose\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        children: moment(selectedDate).format('dddd, MMMM DD')\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 581,\n                        columnNumber: 25\n                      }, this), loadingSlots && (!availableSlots || availableSlots.length === 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"loaderContent\",\n                        children: /*#__PURE__*/_jsxDEV(\"div\", {\n                          className: \"loader\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 585,\n                          columnNumber: 31\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 584,\n                        columnNumber: 29\n                      }, this), availableSlots && availableSlots.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"slots\",\n                        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n                          children: (availableSlots || []).map(function (i, key) {\n                            return /*#__PURE__*/_jsxDEV(\"li\", {\n                              className: i === time ? 'selectedTimeContainer' : 'timeContainer',\n                              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                                className: 'chooseTimeElement',\n                                children: moment(i).tz(timeZone).format('LT')\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 600,\n                                columnNumber: 35\n                              }, _this), /*#__PURE__*/_jsxDEV(\"span\", {\n                                className: i === time ? 'selected-time' : 'chooseTime',\n                                onClick: function onClick() {\n                                  return setTime(i);\n                                },\n                                children: i === time ? 'Selected' : 'Choose'\n                              }, void 0, false, {\n                                fileName: _jsxFileName,\n                                lineNumber: 604,\n                                columnNumber: 35\n                              }, _this)]\n                            }, key, true, {\n                              fileName: _jsxFileName,\n                              lineNumber: 592,\n                              columnNumber: 33\n                            }, _this);\n                          })\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 590,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 589,\n                        columnNumber: 27\n                      }, this), (!availableSlots || availableSlots.length === 0) && !loadingSlots && /*#__PURE__*/_jsxDEV(\"div\", {\n                        className: \"text-center no-time-slot\",\n                        children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                          children: [\"No times available\", ' ', moment(selectedDate).format('MMMM DD')]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 622,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 626,\n                          columnNumber: 31\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: \"Please select another date\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 627,\n                          columnNumber: 31\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 621,\n                        columnNumber: 29\n                      }, this), data && time ? /*#__PURE__*/_jsxDEV(\"div\", {\n                        style: {\n                          height: '75px'\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 631,\n                        columnNumber: 27\n                      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 580,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 579,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 555,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 496,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 495,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: time ? 'fixedPos' : 'relativepos',\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: styles.btnSec,\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: btnStyles.secondary,\n                  onClick: function onClick() {\n                    props.setPreviousPage();\n                    props.previousStep();\n                  },\n                  children: \"Back\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 644,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: time !== '' ? btnStyles.primary : btnStyles.primaryDisabled,\n                  onClick: function onClick(e) {\n                    setBtnDisabled(true);\n                    setDateTime(e);\n                  },\n                  disabled: time === '' || btnDisabled,\n                  children: \"Continue\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 654,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 643,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 642,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 494,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 466,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 259,\n    columnNumber: 5\n  }, this);\n}\n\n_s(pickDateTime, \"Aqh57jLNm+nSa2xIxi8Y3uE3ddE=\", false, function () {\n  return [useUpdatedDateTimeData];\n});","map":{"version":3,"sources":["/home/encora/Documents/projects/testDrive/tdn/components/pick-date-time/pickDateTime.js"],"names":["btnStyles","Image","React","useState","useEffect","SechduleContent","Carousel","styles","StepBarV1","StepbarV1Style","Axios","Calendar","moment","Dropdown","StepBar","useUpdatedDateTimeData","pickDateTime","props","carData","setCarData","Date","selectedDate","onDateChange","selectedDateTime","time","setTime","calenderData","setCalenderData","brand","setBrand","btnDisabled","setBtnDisabled","timeZone","setTimeZone","loadingSlots","setLoading","availableSlots","setAvailableSlots","timeZones","title","value","data","setDateTime","e","preventDefault","driveForm","localStorage","getItem","dupDriveForm","JSON","parse","post","UserID","then","res","obj","setItem","stringify","setNextPage","nextStep","err","console","log","onReload","selectedTime","isBefore","setThisPage","goToStep","invalidDateCheck","selectedCarData","setSelectedDateTime","settings","showIndicators","infinite","speed","slidesToShow","slidesToScroll","showArrows","showStatus","legend","autoPlay","interval","infiniteLoop","transitionTime","getSlots","slots","i","dateHere","tz","set","hour","minute","push","format","dayNumber","scrollToTop","isActive","brandName","fields","get","Brand","response","Name","error","renderImages","display","currentPage","thumbnails","large","url","progressContent","hideForMobile","add","find","x","length","map","key","fontSize","btnSec","secondary","setPreviousPage","previousStep","primary","primaryDisabled","hideForLaptop","activeStartDate","view","height"],"mappings":";;;;;;;;;;;AAAA;AAEA,OAAOA,SAAP,MAAsB,+BAAtB;AACA,OAAOC,KAAP,MAAkB,YAAlB;AACA,OAAOC,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,eAAP,MAA4B,uCAA5B;AACA,OAAO,uDAAP,C,CAAgE;;AAChE,SAASC,QAAT,QAAyB,2BAAzB;AACA,OAAOC,MAAP,MAAmB,8BAAnB;AAEA,OAAOC,SAAP,MAAsB,uCAAtB;AACA,OAAOC,cAAP,MAA2B,qCAA3B;AAEA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,gBAArB;AACA,OAAOC,MAAP,MAAmB,iBAAnB;AACA,OAAOC,QAAP,MAAqB,YAArB;AAEA,OAAOC,OAAP,MAAoB,qCAApB;AACA,SAASC,sBAAT,QAAuC,oCAAvC,C,CACA;AAEA;;AAEA,eAAe,SAASC,YAAT,CAAsBC,KAAtB,EAA6B;AAAA;;AAAA;;AAAA,kBACZd,QAAQ,CAAC,IAAD,CADI;AAAA,MACnCe,OADmC;AAAA,MAC1BC,UAD0B;;AAAA,mBAGLhB,QAAQ,CAAC,IAAIiB,IAAJ,EAAD,CAHH;AAAA,MAGnCC,YAHmC;AAAA,MAGrBC,YAHqB;;AAAA,mBAIlBnB,QAAQ,CAACc,KAAK,CAACM,gBAAP,CAJU;AAAA,MAInCC,IAJmC;AAAA,MAI7BC,OAJ6B;;AAAA,mBAKFtB,QAAQ,EALN;AAAA,MAKnCuB,YALmC;AAAA,MAKrBC,eALqB;;AAAA,mBAMhBxB,QAAQ,CAAC,EAAD,CANQ;AAAA,MAMnCyB,KANmC;AAAA,MAM5BC,QAN4B;;AAAA,mBAOJ1B,QAAQ,CAAC,KAAD,CAPJ;AAAA,MAOnC2B,WAPmC;AAAA,MAOtBC,cAPsB;;AAAA,mBAQV5B,QAAQ,CAAC,kBAAD,CARE;AAAA,MAQnC6B,QARmC;AAAA,MAQzBC,WARyB;;AAAA,mBASP9B,QAAQ,CAAC,KAAD,CATD;AAAA,MASnC+B,YATmC;AAAA,MASrBC,UATqB;;AAAA,mBAUEhC,QAAQ,CAAC,EAAD,CAVV;AAAA,MAUnCiC,cAVmC;AAAA,MAUnBC,iBAVmB;;AAY1C,MAAMC,SAAS,GAAG,CAChB;AAAEC,IAAAA,KAAK,EAAE,6BAAT;AAAwCC,IAAAA,KAAK,EAAE;AAA/C,GADgB,EAEhB;AAAED,IAAAA,KAAK,EAAE,6BAAT;AAAwCC,IAAAA,KAAK,EAAE;AAA/C,GAFgB,EAGhB;AAAED,IAAAA,KAAK,EAAE,8BAAT;AAAyCC,IAAAA,KAAK,EAAE;AAAhD,GAHgB,EAIhB;AAAED,IAAAA,KAAK,EAAE,6BAAT;AAAwCC,IAAAA,KAAK,EAAE;AAA/C,GAJgB,CAAlB;AAOA,MAAMC,IAAI,GAAG1B,sBAAsB,EAAnC;;AAEA,MAAM2B,WAAW,GAAG,SAAdA,WAAc,CAACC,CAAD,EAAO;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACA,QAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;AACA,QAAIC,YAAY,GAAGC,IAAI,CAACC,KAAL,CAAWL,SAAX,CAAnB;AACAnC,IAAAA,KAAK,CAACyC,IAAN,CAAW,sBAAX,EAAmC;AACjCC,MAAAA,MAAM,EAAEN,YAAY,CAACC,OAAb,CAAqB,QAArB,CADyB;AAEjC3B,MAAAA,IAAI,EAAEI;AAF2B,KAAnC,EAIG6B,IAJH,CAIQ,UAACC,GAAD,EAAS;AACb,UAAIA,GAAG,CAACb,IAAR,EAAc;AACZ,YAAIc,GAAG,mCAAQP,YAAR;AAAsBxB,UAAAA,IAAI,EAAJA,IAAtB;AAA4BQ,UAAAA,QAAQ,EAARA;AAA5B,UAAP;;AACAc,QAAAA,YAAY,CAACU,OAAb,CAAqB,WAArB,EAAkCP,IAAI,CAACQ,SAAL,CAAeF,GAAf,CAAlC;AACAxB,QAAAA,cAAc,CAAC,KAAD,CAAd;AACAd,QAAAA,KAAK,CAACyC,WAAN;AACAzC,QAAAA,KAAK,CAAC0C,QAAN;AACD;AACF,KAZH,WAaS,UAACC,GAAD;AAAA,aAASC,OAAO,CAACC,GAAR,CAAYF,GAAZ,CAAT;AAAA,KAbT;AAcD,GAlBD;;AAoBAxD,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIa,KAAK,CAAC8C,QAAV,EAAoB;AAClB,UAAMlB,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,WAArB,CAAlB;;AACA,UAAIF,SAAJ,EAAe;AACb,YAAIU,GAAG,GAAGN,IAAI,CAACC,KAAL,CAAWL,SAAX,CAAV;;AACA,YAAIU,GAAG,CAACvB,QAAR,EAAkB;AAChBC,UAAAA,WAAW,CAACsB,GAAG,CAACvB,QAAL,CAAX;AACD;;AACD,YAAIuB,GAAG,CAAC/B,IAAR,EAAc;AACZ,cAAIwC,YAAY,GAAGT,GAAG,CAAC/B,IAAvB;;AACA,cAAIZ,MAAM,CAACoD,YAAD,CAAN,CAAqBC,QAArB,CAA8BrD,MAAM,CAAC,IAAIQ,IAAJ,EAAD,CAApC,CAAJ,EAAuD;AACrD,mBAAOmC,GAAG,CAAC/B,IAAX;AACAP,YAAAA,KAAK,CAACiD,WAAN,CAAkB,CAAlB;AACAjD,YAAAA,KAAK,CAACkD,QAAN,CAAe,CAAf;AACAC,YAAAA,gBAAgB,CAACb,GAAD,CAAhB;AACD,WALD,MAKO;AACLjC,YAAAA,YAAY,CAAC,IAAIF,IAAJ,CAAS4C,YAAT,CAAD,CAAZ;AACAvC,YAAAA,OAAO,CAACuC,YAAD,CAAP;AACD;AACF,SAXD,MAWO;AACLI,UAAAA,gBAAgB,CAACb,GAAD,CAAhB;AACD;AACF;AACF;;AACD,QAAItC,KAAK,CAACoD,eAAV,EAA2B;AACzBlD,MAAAA,UAAU,CAACF,KAAK,CAACoD,eAAP,CAAV;AACD;AACF,GA3BQ,EA2BN,CAACpD,KAAK,CAAC8C,QAAP,EAAiB9C,KAAK,CAACoD,eAAvB,CA3BM,CAAT;;AA6BA,MAAMD,gBAAgB,GAAG,SAAnBA,gBAAmB,CAACb,GAAD,EAAS;AAChCjC,IAAAA,YAAY,CAAC,IAAIF,IAAJ,EAAD,CAAZ;AACA0B,IAAAA,YAAY,CAACU,OAAb,CAAqB,WAArB,EAAkCP,IAAI,CAACQ,SAAL,CAAeF,GAAf,CAAlC;AACD,GAHD;;AAIAnD,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,KAAK,CAACqD,mBAAN,CAA0B9C,IAA1B;AACD,GAFQ,EAEN,CAACA,IAAD,CAFM,CAAT;AAIA,MAAM+C,QAAQ,GAAG;AACfC,IAAAA,cAAc,EAAE,KADD;AAEfC,IAAAA,QAAQ,EAAE,IAFK;AAGfC,IAAAA,KAAK,EAAE,GAHQ;AAIfC,IAAAA,YAAY,EAAE,CAJC;AAKfC,IAAAA,cAAc,EAAE,CALD;AAMfC,IAAAA,UAAU,EAAE,KANG;AAOfC,IAAAA,UAAU,EAAE,KAPG;AAQfC,IAAAA,MAAM,EAAE,KARO;AASfC,IAAAA,QAAQ,EAAE,KATK;AAUfC,IAAAA,QAAQ,EAAE,MAVK;AAWfC,IAAAA,YAAY,EAAE,IAXC;AAYfC,IAAAA,cAAc,EAAE;AAZD,GAAjB,CA9E0C,CA6F1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMC,QAAQ,GAAG,SAAXA,QAAW,CAAC/D,YAAD,EAAkB;AACjC,QAAIgE,KAAK,GAAG,EAAZ;;AACA,SAAK,IAAIC,CAAC,GAAG,EAAb,EAAiBA,CAAC,GAAG,EAArB,EAAyBA,CAAC,EAA1B,EAA8B;AAC5B,UAAIC,QAAQ,GAAG3E,MAAM,CAACS,YAAD,CAAN,CACZmE,EADY,CACTxD,QADS,EAEZyD,GAFY,CAER;AAAEC,QAAAA,IAAI,EAAEJ,CAAR;AAAWK,QAAAA,MAAM,EAAE;AAAnB,OAFQ,CAAf;AAGAN,MAAAA,KAAK,CAACO,IAAN,CAAWL,QAAQ,CAACM,MAAT,EAAX;AACD;;AACDhC,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAsBuB,KAAtB;AACA,WAAOA,KAAP;AACD,GAVD;;AAYAjF,EAAAA,SAAS,CAAC,YAAM;AACdyD,IAAAA,OAAO,CAACC,GAAR,CAAYzC,YAAZ;AACA,QAAMyE,SAAS,GAAGlF,MAAM,CAACS,YAAD,CAAN,CAAqBwE,MAArB,CAA4B,GAA5B,CAAlB;AACAhC,IAAAA,OAAO,CAACC,GAAR,CAAYgC,SAAZ;;AACA,QAAIA,SAAS,IAAI,CAAb,IAAkBA,SAAS,IAAI,CAAnC,EAAsC;AACpCzD,MAAAA,iBAAiB,CAAC+C,QAAQ,CAAC/D,YAAD,CAAT,CAAjB;AACD,KAFD,MAEO;AACLgB,MAAAA,iBAAiB,CAAC,EAAD,CAAjB;AACD;;AACDZ,IAAAA,OAAO,CAAC,EAAD,CAAP;AACD,GAVQ,EAUN,CAACJ,YAAD,CAVM,CAAT,CAjI0C,CA6I1C;AACA;AACA;AACA;AACA;;AAEAjB,EAAAA,SAAS,CAAC,YAAM;AACda,IAAAA,KAAK,CAAC8E,WAAN;AACD,GAFQ,EAEN,CAAC9E,KAAK,CAAC+E,QAAP,CAFM,CAAT;AAIA5F,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI6F,SAAS,GAAG,EAAhB;;AACA,QACEhF,KAAK,CAAC+E,QAAN,KAAmB,IAAnB,IACA/E,KAAK,CAACoD,eADN,IAEApD,KAAK,CAACoD,eAAN,CAAsB6B,MAHxB,EAIE;AACAxF,MAAAA,KAAK,CAACyF,GAAN,0BAA4BlF,KAAK,CAACoD,eAAN,CAAsB6B,MAAtB,CAA6BE,KAA7B,CAAmC,CAAnC,CAA5B,GAAqE/C,IAArE,CACE,UAACgD,QAAD,EAAc;AACZJ,QAAAA,SAAS,GAAGI,QAAQ,CAAC5D,IAAT,CAAcyD,MAAd,CAAqBI,IAAjC;AACAzE,QAAAA,QAAQ,CAACoE,SAAD,CAAR;AACD,OAJH,EAKE,UAACM,KAAD,EAAW;AACT1C,QAAAA,OAAO,CAACC,GAAR,CAAYyC,KAAZ;AACD,OAPH;AASD;;AACDpF,IAAAA,UAAU,CAACF,KAAK,CAACoD,eAAP,CAAV;AACD,GAlBQ,EAkBN,CAACpD,KAAK,CAAC+E,QAAP,EAAiB/E,KAAK,CAAC8C,QAAvB,EAAiC9C,KAAK,CAACoD,eAAvC,CAlBM,CAAT;;AAoBA,MAAMmC,YAAY,GAAG,SAAfA,YAAe,GAAM;AACzB,wBACE;AAAK,MAAA,KAAK,EAAE;AAAEC,QAAAA,OAAO,YAAKxF,KAAK,CAACyF,WAAN,KAAsB,CAAtB,GAA0B,OAA1B,GAAoC,MAAzC;AAAT,OAAZ;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,cAAf;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,SAAf;AAAA,iCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,iBADF,eAIE,QAAC,QAAD,kCAAcnC,QAAd;AAAA,kCACE;AAAA,oCACE;AACE,cAAA,GAAG,EACDrD,OAAO,IAAIA,OAAO,CAACgF,MAAnB,GACIhF,OAAO,CAACgF,MAAR,CAAejG,KAAf,CAAqB,CAArB,EAAwB0G,UAAxB,CAAmCC,KAAnC,CAAyCC,GAD7C,GAEI,EAJR;AAME,cAAA,GAAG,EAAC;AANN;AAAA;AAAA;AAAA;AAAA,qBADF,eASE;AAAG,cAAA,SAAS,EAAC,QAAb;AAAA,wBACG3F,OAAO,IAAIA,OAAO,CAACgF,MAAnB,IAA6BhF,OAAO,CAACgF,MAAR,CAAeI;AAD/C;AAAA;AAAA;AAAA;AAAA,qBATF;AAAA;AAAA;AAAA;AAAA;AAAA,mBADF,eAcE;AAAA,oCACE;AACE,cAAA,GAAG,EACDpF,OAAO,IAAIA,OAAO,CAACgF,MAAnB,GACIhF,OAAO,CAACgF,MAAR,CAAejG,KAAf,CAAqB,CAArB,EAAwB0G,UAAxB,CAAmCC,KAAnC,CAAyCC,GAD7C,GAEI,EAJR;AAME,cAAA,GAAG,EAAC;AANN;AAAA;AAAA;AAAA;AAAA,qBADF,eASE;AAAG,cAAA,SAAS,EAAC,QAAb;AAAA,wBACG3F,OAAO,IAAIA,OAAO,CAACgF,MAAnB,IAA6BhF,OAAO,CAACgF,MAAR,CAAeI;AAD/C;AAAA;AAAA;AAAA;AAAA,qBATF;AAAA;AAAA;AAAA;AAAA;AAAA,mBAdF,eA2BE;AAAA,oCACE;AACE,cAAA,GAAG,EACDpF,OAAO,IAAIA,OAAO,CAACgF,MAAnB,GACIhF,OAAO,CAACgF,MAAR,CAAejG,KAAf,CAAqB,CAArB,EAAwB0G,UAAxB,CAAmCC,KAAnC,CAAyCC,GAD7C,GAEI,EAJR;AAME,cAAA,GAAG,EAAC;AANN;AAAA;AAAA;AAAA;AAAA,qBADF,eASE;AAAG,cAAA,SAAS,EAAC,QAAb;AAAA,wBACG3F,OAAO,IAAIA,OAAO,CAACgF,MAAnB,IAA6BhF,OAAO,CAACgF,MAAR,CAAeI;AAD/C;AAAA;AAAA;AAAA;AAAA,qBATF;AAAA;AAAA;AAAA;AAAA;AAAA,mBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,iBAJF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,aADF;AAkDD,GAnDD,CA3K0C,CA+N1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA,sBACE;AAAK,IAAA,KAAK,EAAE;AAAEG,MAAAA,OAAO,YAAKxF,KAAK,CAACyF,WAAN,KAAsB,CAAtB,GAA0B,OAA1B,GAAoC,MAAzC;AAAT,KAAZ;AAAA,2BACE;AAAK,MAAA,SAAS,EAAC,6BAAf;AAAA,8BACE;AAAK,QAAA,SAAS,EAAC,aAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,4BAAf;AAAA,iCAmBE;AAAK,YAAA,SAAS,EAAC,gDAAf;AAAA,oCACE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,SAAS,YAAKnG,MAAM,CAACuG,eAAZ,iBAAd;AAAA,qCAEE;AAAK,gBAAA,SAAS,EAAErG,cAAc,CAACsG,aAA/B;AAAA,uCACE,QAAC,SAAD,oBAAe9F,KAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,oBAFF,eAQE;AAAK,cAAA,SAAS,EAAC,EAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,aAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,KAAf;AAAA,0CACE;AAAK,oBAAA,SAAS,EAAC,6BAAf;AAAA,4CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAEE;AAAA,6CACE,QAAC,QAAD;AACE,wBAAA,OAAO,EAAE,IAAIG,IAAJ,EADX;AAEE,wBAAA,OAAO,EAAE,IAAIA,IAAJ,CAASR,MAAM,GAAGoG,GAAT,CAAa,EAAb,EAAiB,MAAjB,CAAT,CAFX;AAGE,wBAAA,QAAQ,EAAE1F,YAHZ;AAIE,wBAAA,KAAK,EAAED,YAJT;AAKE,wBAAA,SAAS,EAAC,qBALZ;AAME,wBAAA,UAAU,EAAE,IANd;AAOE,wBAAA,UAAU,EAAE,IAPd;AAQE,wBAAA,YAAY,EAAC,IARf,CASE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAhBF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,4BAFF;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,eAwBE;AAAK,oBAAA,SAAS,EAAC,uCAAf;AAAA,4CA0CE;AAAK,sBAAA,SAAS,EAAC,cAAf;AAAA,gCACGW,QAAQ,iBACP;AAAA,kCAEIM,SAAS,CAAC2E,IAAV,CAAe,UAACC,CAAD,EAAI5B,CAAJ;AAAA,iCAAU4B,CAAC,CAAC1E,KAAF,KAAYR,QAAtB;AAAA,yBAAf,EACGO;AAHP;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA,4BA1CF,eAoDE;AAAK,sBAAA,SAAS,EAAC,YAAf;AAAA,8CACE;AAAA,kCAAI3B,MAAM,CAACS,YAAD,CAAN,CAAqBwE,MAArB,CAA4B,eAA5B;AAAJ;AAAA;AAAA;AAAA;AAAA,8BADF,EAEG3D,YAAY,KACV,CAACE,cAAD,IAAmBA,cAAc,CAAC+E,MAAf,KAA0B,CADnC,CAAZ,iBAEG;AAAK,wBAAA,SAAS,EAAC,eAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BAJN,EAQG/E,cAAc,IAAIA,cAAc,CAAC+E,MAAf,GAAwB,CAA1C,iBACC;AAAK,wBAAA,SAAS,EAAC,OAAf;AAAA,+CACE;AAAA,oCACG,CAAC/E,cAAc,IAAI,EAAnB,EAAuBgF,GAAvB,CAA2B,UAAC9B,CAAD,EAAI+B,GAAJ;AAAA,gDAC1B;AAEE,8BAAA,SAAS,EACP/B,CAAC,KAAK9D,IAAN,GACI,uBADJ,GAEI,eALR;AAAA,sDAQE;AACE,gCAAA,KAAK,EAAE;AAAE8F,kCAAAA,QAAQ,EAAE;AAAZ,iCADT;AAEE,gCAAA,SAAS,EAAE,mBAFb;AAAA,0CAIG1G,MAAM,CAAC0E,CAAD,CAAN,CAAUE,EAAV,CAAaxD,QAAb,EAAuB6D,MAAvB,CAA8B,IAA9B;AAJH;AAAA;AAAA;AAAA;AAAA,uCARF,eAeE;AACE,gCAAA,KAAK,EAAE;AAAEyB,kCAAAA,QAAQ,EAAE;AAAZ,iCADT;AAEE,gCAAA,SAAS,EACPhC,CAAC,KAAK9D,IAAN,GACI,eADJ,GAEI,YALR;AAOE,gCAAA,OAAO,EAAE,mBAAM;AACbC,kCAAAA,OAAO,CAAC6D,CAAD,CAAP;AACA7C,kCAAAA,IAAI,CAAC6C,CAAD,CAAJ;AACD,iCAVH;AAAA,0CAYGA,CAAC,KAAK9D,IAAN,GAAa,UAAb,GAA0B;AAZ7B;AAAA;AAAA;AAAA;AAAA,uCAfF;AAAA,+BACO6F,GADP;AAAA;AAAA;AAAA;AAAA,qCAD0B;AAAA,2BAA3B;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BATJ,EA8CG,CAAC,CAACjF,cAAD,IAAmBA,cAAc,CAAC+E,MAAf,KAA0B,CAA9C,KACC,CAACjF,YADF,iBAEG;AAAK,wBAAA,SAAS,EAAC,0BAAf;AAAA,gDACE;AAAA,2DACqB,GADrB,EAEGtB,MAAM,CAACS,YAAD,CAAN,CAAqBwE,MAArB,CAA4B,SAA5B,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAKE;AAAA;AAAA;AAAA;AAAA,gCALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCANF;AAAA;AAAA;AAAA;AAAA;AAAA,8BAhDN;AAAA;AAAA;AAAA;AAAA;AAAA,4BApDF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAxBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBARF,eAuJE;AAAK,cAAA,SAAS,EAAC,mBAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAEtF,MAAM,CAACgH,MAAvB;AAAA,wCACE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,SAAS,EAAEvH,SAAS,CAACwH,SAFvB;AAGE,kBAAA,OAAO,EAAE,mBAAM;AACbvG,oBAAAA,KAAK,CAACwG,eAAN;AACAxG,oBAAAA,KAAK,CAACyG,YAAN;AACD,mBANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAWE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,SAAS,EACPlG,IAAI,KAAK,EAAT,GACIxB,SAAS,CAAC2H,OADd,GAEI3H,SAAS,CAAC4H,eALlB;AAOE,kBAAA,OAAO,EAAE,iBAACjF,CAAD,EAAO;AACdZ,oBAAAA,cAAc,CAAC,IAAD,CAAd;AACAW,oBAAAA,WAAW,CAACC,CAAD,CAAX;AACD,mBAVH;AAWE,kBAAA,QAAQ,EAAEnB,IAAI,KAAK,EAAT,IAAeM,WAX3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBAvJF;AAAA;AAAA;AAAA;AAAA;AAAA;AAnBF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cADF,eA8ME;AAAK,QAAA,SAAS,EAAC,eAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,+CAAf;AAAA,oCACE,QAAC,eAAD;AAAA;AAAA;AAAA;AAAA,oBADF,eAEE;AAAK,cAAA,SAAS,YAAKvB,MAAM,CAACuG,eAAZ,iBAAd;AAAA,qCAEE;AAAK,gBAAA,SAAS,EAAErG,cAAc,CAACoH,aAA/B;AAAA,uCACE,QAAC,SAAD;AAAW,kBAAA,MAAM,EAAE;AAAnB,mBAA6B5G,KAA7B;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,oBAFF,eAQE;AAAA,wBAAMC,OAAO,IAAIA,OAAO,CAACgF,MAAnB,IAA6BM,YAAY;AAA/C;AAAA;AAAA;AAAA;AAAA,oBARF,eASE;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACE;AAAA,0BACG5E,KAAK,gBACJ;AAAA,6BACGA,KADH,OAGGV,OAAO,IAAIA,OAAO,CAACgF,MAAnB,GACGhF,OAAO,CAACgF,MAAR,CAAeI,IADlB,GAEG,iBALN;AAAA,gCADI,GASJ;AAVJ;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBATF;AAAA;AAAA;AAAA;AAAA;AAAA,kBADF,eA2BE;AAAK,YAAA,SAAS,EAAC,+CAAf;AAAA,oCACE;AAAK,cAAA,SAAS,EAAC,aAAf;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,aAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,KAAf;AAAA,0CACE;AAAK,oBAAA,SAAS,EAAC,6BAAf;AAAA,2CACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BADF,eAIE;AAAK,oBAAA,SAAS,EAAC,uCAAf;AAAA,2CA0CE;AAAK,sBAAA,SAAS,EAAC,cAAf;AAAA,gCACGtE,QAAQ,iBACP;AAAA,kCAEIM,SAAS,CAAC2E,IAAV,CAAe,UAACC,CAAD,EAAI5B,CAAJ;AAAA,iCAAU4B,CAAC,CAAC1E,KAAF,KAAYR,QAAtB;AAAA,yBAAf,EACGO;AAHP;AAAA;AAAA;AAAA;AAAA;AAFJ;AAAA;AAAA;AAAA;AAAA;AA1CF;AAAA;AAAA;AAAA;AAAA,0BAJF;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eA2DE;AAAK,kBAAA,SAAS,EAAC,KAAf;AAAA,0CACE;AAAK,oBAAA,SAAS,EAAC,6BAAf;AAAA,2CAEE;AAAA,6CACE,QAAC,QAAD;AACE,wBAAA,OAAO,EAAE,IAAInB,IAAJ,EADX;AAEE,wBAAA,OAAO,EAAE,IAAIA,IAAJ,CAASR,MAAM,GAAGoG,GAAT,CAAa,EAAb,EAAiB,MAAjB,CAAT,CAFX;AAGE,wBAAA,QAAQ,EAAE1F,YAHZ;AAIE,wBAAA,KAAK,EAAED,YAJT;AAKE,wBAAA,SAAS,EAAC,qBALZ;AAME,wBAAA,UAAU,EAAE,IANd;AAOE,wBAAA,UAAU,EAAE,IAPd;AAQE,wBAAA,YAAY,EAAC,IARf;AASE,wBAAA,uBAAuB,EAAE,uCAInB;AAAA,8BAHJyG,eAGI,QAHJA,eAGI;AAAA,8BAFJtF,KAEI,QAFJA,KAEI;AAAA,8BADJuF,IACI,QADJA,IACI;AACJzG,0BAAAA,YAAY,CAACwG,eAAD,CAAZ,CADI,CAEJ;AACD;AAhBH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA,0BADF,eAwBE;AAAK,oBAAA,SAAS,EAAC,6BAAf;AAAA,2CACE;AAAK,sBAAA,SAAS,EAAC,YAAf;AAAA,8CACE;AAAA,kCAAIlH,MAAM,CAACS,YAAD,CAAN,CAAqBwE,MAArB,CAA4B,eAA5B;AAAJ;AAAA;AAAA;AAAA;AAAA,8BADF,EAEG3D,YAAY,KACV,CAACE,cAAD,IAAmBA,cAAc,CAAC+E,MAAf,KAA0B,CADnC,CAAZ,iBAEG;AAAK,wBAAA,SAAS,EAAC,eAAf;AAAA,+CACE;AAAK,0BAAA,SAAS,EAAC;AAAf;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BAJN,EAQG/E,cAAc,IAAIA,cAAc,CAAC+E,MAAf,GAAwB,CAA1C,iBACC;AAAK,wBAAA,SAAS,EAAC,OAAf;AAAA,+CACE;AAAA,oCACG,CAAC/E,cAAc,IAAI,EAAnB,EAAuBgF,GAAvB,CAA2B,UAAC9B,CAAD,EAAI+B,GAAJ;AAAA,gDAC1B;AAEE,8BAAA,SAAS,EACP/B,CAAC,KAAK9D,IAAN,GACI,uBADJ,GAEI,eALR;AAAA,sDAQE;AAAM,gCAAA,SAAS,EAAE,mBAAjB;AAAA,0CACGZ,MAAM,CAAC0E,CAAD,CAAN,CAAUE,EAAV,CAAaxD,QAAb,EAAuB6D,MAAvB,CAA8B,IAA9B;AADH;AAAA;AAAA;AAAA;AAAA,uCARF,eAYE;AACE,gCAAA,SAAS,EACPP,CAAC,KAAK9D,IAAN,GACI,eADJ,GAEI,YAJR;AAME,gCAAA,OAAO,EAAE;AAAA,yCAAMC,OAAO,CAAC6D,CAAD,CAAb;AAAA,iCANX;AAAA,0CAQGA,CAAC,KAAK9D,IAAN,GAAa,UAAb,GAA0B;AAR7B;AAAA;AAAA;AAAA;AAAA,uCAZF;AAAA,+BACO6F,GADP;AAAA;AAAA;AAAA;AAAA,qCAD0B;AAAA,2BAA3B;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BATJ,EAuCG,CAAC,CAACjF,cAAD,IAAmBA,cAAc,CAAC+E,MAAf,KAA0B,CAA9C,KACC,CAACjF,YADF,iBAEG;AAAK,wBAAA,SAAS,EAAC,0BAAf;AAAA,gDACE;AAAA,2DACqB,GADrB,EAEGtB,MAAM,CAACS,YAAD,CAAN,CAAqBwE,MAArB,CAA4B,SAA5B,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAKE;AAAA;AAAA;AAAA;AAAA,gCALF,eAME;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCANF;AAAA;AAAA;AAAA;AAAA;AAAA,8BAzCN,EAkDGpD,IAAI,IAAIjB,IAAR,gBACC;AAAK,wBAAA,KAAK,EAAE;AAAEwG,0BAAAA,MAAM,EAAE;AAAV;AAAZ;AAAA;AAAA;AAAA;AAAA,8BADD,gBAGC,qCArDJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,0BAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,wBA3DF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBADF,eAoJE;AAAK,cAAA,SAAS,EAAExG,IAAI,GAAG,UAAH,GAAgB,aAApC;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAEjB,MAAM,CAACgH,MAAvB;AAAA,wCACE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,SAAS,EAAEvH,SAAS,CAACwH,SAFvB;AAGE,kBAAA,OAAO,EAAE,mBAAM;AACbvG,oBAAAA,KAAK,CAACwG,eAAN;AACAxG,oBAAAA,KAAK,CAACyG,YAAN;AACD,mBANH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAWE;AACE,kBAAA,IAAI,EAAC,QADP;AAEE,kBAAA,SAAS,EACPlG,IAAI,KAAK,EAAT,GACIxB,SAAS,CAAC2H,OADd,GAEI3H,SAAS,CAAC4H,eALlB;AAOE,kBAAA,OAAO,EAAE,iBAACjF,CAAD,EAAO;AACdZ,oBAAAA,cAAc,CAAC,IAAD,CAAd;AACAW,oBAAAA,WAAW,CAACC,CAAD,CAAX;AACD,mBAVH;AAWE,kBAAA,QAAQ,EAAEnB,IAAI,KAAK,EAAT,IAAeM,WAX3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAXF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,oBApJF;AAAA;AAAA;AAAA;AAAA;AAAA,kBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,cA9MF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UADF;AAoaD;;GA7oBuBd,Y;UAmBTD,sB","sourcesContent":["/** @format */\n\nimport btnStyles from './../../styles/Btn.module.css';\nimport Image from 'next/image';\nimport React, { useState, useEffect } from 'react';\nimport SechduleContent from './../../common-component/sechduleDesc';\nimport 'react-responsive-carousel/lib/styles/carousel.min.css'; // requires a loader\nimport { Carousel } from 'react-responsive-carousel';\nimport styles from '../../styles/Home.module.css';\n\nimport StepBarV1 from './../../components/step-bar/stepBarV1';\nimport StepbarV1Style from './../../styles/StepBarV1.module.css';\n\nimport Axios from 'axios';\nimport Calendar from 'react-calendar';\nimport moment from 'moment-timezone';\nimport Dropdown from './dropDown';\n\nimport StepBar from './../../components/step-bar/stepBar';\nimport { useUpdatedDateTimeData } from '../../contexts/DateTimeDataContext';\n// import StepBarV1 from \"./../../components/step-bar/stepBarV1\";\n\n// import DateTimeSlot from './pickDateTimeSlot';\n\nexport default function pickDateTime(props) {\n  const [carData, setCarData] = useState(null);\n\n  const [selectedDate, onDateChange] = useState(new Date());\n  const [time, setTime] = useState(props.selectedDateTime);\n  const [calenderData, setCalenderData] = useState();\n  const [brand, setBrand] = useState('');\n  const [btnDisabled, setBtnDisabled] = useState(false);\n  const [timeZone, setTimeZone] = useState('America/New_York');\n  const [loadingSlots, setLoading] = useState(false);\n  const [availableSlots, setAvailableSlots] = useState([]);\n\n  const timeZones = [\n    { title: 'Eastern Time - US & Canada ', value: 'America/New_York' },\n    { title: 'Central Time - US & Canada ', value: 'America/Chicago' },\n    { title: 'Mountain Time - US & Canada ', value: 'America/Denver' },\n    { title: 'Pacific Time - US & Canada ', value: 'America/Los_Angeles' },\n  ];\n\n  const data = useUpdatedDateTimeData();\n\n  const setDateTime = (e) => {\n    e.preventDefault();\n    const driveForm = localStorage.getItem('driveForm');\n    let dupDriveForm = JSON.parse(driveForm);\n    Axios.post('/api/user/updateDate', {\n      UserID: localStorage.getItem('userId'),\n      Date: time,\n    })\n      .then((res) => {\n        if (res.data) {\n          let obj = { ...dupDriveForm, time, timeZone };\n          localStorage.setItem('driveForm', JSON.stringify(obj));\n          setBtnDisabled(false);\n          props.setNextPage();\n          props.nextStep();\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  useEffect(() => {\n    if (props.onReload) {\n      const driveForm = localStorage.getItem('driveForm');\n      if (driveForm) {\n        let obj = JSON.parse(driveForm);\n        if (obj.timeZone) {\n          setTimeZone(obj.timeZone);\n        }\n        if (obj.time) {\n          let selectedTime = obj.time;\n          if (moment(selectedTime).isBefore(moment(new Date()))) {\n            delete obj.time;\n            props.setThisPage(2);\n            props.goToStep(2);\n            invalidDateCheck(obj);\n          } else {\n            onDateChange(new Date(selectedTime));\n            setTime(selectedTime);\n          }\n        } else {\n          invalidDateCheck(obj);\n        }\n      }\n    }\n    if (props.selectedCarData) {\n      setCarData(props.selectedCarData);\n    }\n  }, [props.onReload, props.selectedCarData]);\n\n  const invalidDateCheck = (obj) => {\n    onDateChange(new Date());\n    localStorage.setItem('driveForm', JSON.stringify(obj));\n  };\n  useEffect(() => {\n    props.setSelectedDateTime(time);\n  }, [time]);\n\n  const settings = {\n    showIndicators: false,\n    infinite: true,\n    speed: 500,\n    slidesToShow: 1,\n    slidesToScroll: 1,\n    showArrows: false,\n    showStatus: false,\n    legend: false,\n    autoPlay: false,\n    interval: '5000',\n    infiniteLoop: true,\n    transitionTime: '1000',\n  };\n\n  // const getAvailableSlot = (date) => {\n  //   setCalenderData([]);\n  //   setLoading(true);\n  //   let firstDay = moment(date).startOf('month').format('YYYY-MM-DD');\n  //   let lastDay = moment(date).endOf('month').format('YYYY-MM-DD');\n  //   Axios.get(`/api/getCalendarEvents`, {\n  //     params: {\n  //       firstDay,\n  //       lastDay,\n  //       timezone: timeZone,\n  //     },\n  //   }).then(\n  //     (response) => {\n  //       onDateChange(date);\n  //       setCalenderData(response.data);\n  //       setLoading(false);\n  //     },\n  //     (error) => {\n  //       setLoading(false);\n  //       console.log(error);\n  //     }\n  //   );\n  // };\n\n  const getSlots = (selectedDate) => {\n    let slots = [];\n    for (let i = 10; i < 18; i++) {\n      let dateHere = moment(selectedDate)\n        .tz(timeZone)\n        .set({ hour: i, minute: 0 });\n      slots.push(dateHere.format());\n    }\n    console.log('slots ', slots);\n    return slots;\n  };\n\n  useEffect(() => {\n    console.log(selectedDate);\n    const dayNumber = moment(selectedDate).format('d');\n    console.log(dayNumber);\n    if (dayNumber != 0 && dayNumber != 6) {\n      setAvailableSlots(getSlots(selectedDate));\n    } else {\n      setAvailableSlots([]);\n    }\n    setTime('');\n  }, [selectedDate]);\n\n  // useEffect(() => {\n  //   if (props.isActive === true) {\n  //     getAvailableSlot(selectedDate || new Date());\n  //   }\n  // }, [props.isActive]);\n\n  useEffect(() => {\n    props.scrollToTop();\n  }, [props.isActive]);\n\n  useEffect(() => {\n    let brandName = '';\n    if (\n      props.isActive === true &&\n      props.selectedCarData &&\n      props.selectedCarData.fields\n    ) {\n      Axios.get(`/api/get-brand/${props.selectedCarData.fields.Brand[0]}`).then(\n        (response) => {\n          brandName = response.data.fields.Name;\n          setBrand(brandName);\n        },\n        (error) => {\n          console.log(error);\n        }\n      );\n    }\n    setCarData(props.selectedCarData);\n  }, [props.isActive, props.onReload, props.selectedCarData]);\n\n  const renderImages = () => {\n    return (\n      <div style={{ display: `${props.currentPage === 2 ? 'block' : 'none'}` }}>\n        <div className=\"carSlidercss\">\n          <div className=\"pickcar\">\n            <p>I want to drive a</p>\n          </div>\n          <Carousel {...settings}>\n            <div>\n              <img\n                src={\n                  carData && carData.fields\n                    ? carData.fields.Image[0].thumbnails.large.url\n                    : ''\n                }\n                alt=\"selected car image\"\n              />\n              <p className=\"legend\">\n                {carData && carData.fields && carData.fields.Name}\n              </p>\n            </div>\n            <div>\n              <img\n                src={\n                  carData && carData.fields\n                    ? carData.fields.Image[0].thumbnails.large.url\n                    : ''\n                }\n                alt=\"selected car image\"\n              />\n              <p className=\"legend\">\n                {carData && carData.fields && carData.fields.Name}\n              </p>\n            </div>\n            <div>\n              <img\n                src={\n                  carData && carData.fields\n                    ? carData.fields.Image[0].thumbnails.large.url\n                    : ''\n                }\n                alt=\"selected car image\"\n              />\n              <p className=\"legend\">\n                {carData && carData.fields && carData.fields.Name}\n              </p>\n            </div>\n          </Carousel>\n        </div>\n      </div>\n    );\n  };\n  // let totalSlots =\n  //   calenderData &&\n  //   calenderData.filter(\n  //     (i) => i.date === moment(selectedDate).format('YYYY-MM-DD')\n  //   );\n  // let availableSlots =\n  //   totalSlots &&\n  //   totalSlots[0] &&\n  //   totalSlots[0].spots.filter((i) => i.status === 'available');\n\n  return (\n    <div style={{ display: `${props.currentPage === 2 ? 'block' : 'none'}` }}>\n      <div className=\"container-fluid height100vh\">\n        <div className=\"hideContent\">\n          <div className=\"row justify-content-center\">\n            {/* <div className=\"col-sm-12 col-md-5 col-lg-5 height98vh\">\n              <div className=\"\">{renderImages()}</div>\n              <div className=\"pickcardesc\">\n                <p>\n                  {brand ? (\n                    <>\n                      {brand}\n                      {` `}\n                      {carData && carData.fields\n                        ? carData.fields.Name\n                        : 'sample car name'}\n                    </>\n                  ) : (\n                    'Loading . . .'\n                  )}\n                </p>\n              </div>\n            </div> */}\n            <div className=\"col-sm-12 col-md-7 col-lg-7  min-width-desktop\">\n              <SechduleContent />\n              <div className={`${styles.progressContent} marTopBot20`}>\n                {/* <StepBar activeStep=\"2\" size=\"4\" /> */}\n                <div className={StepbarV1Style.hideForMobile}>\n                  <StepBarV1 {...props} />\n                </div>\n              </div>\n              <div className=\"\">\n                <div className=\"pickContent\">\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 col-md-8 col-lg-8\">\n                      <h6>Select a Date & Time</h6>\n                      <div>\n                        <Calendar\n                          minDate={new Date()}\n                          maxDate={new Date(moment().add(59, 'days'))}\n                          onChange={onDateChange}\n                          value={selectedDate}\n                          className=\"manualReactCalendar\"\n                          next2Label={null}\n                          prev2Label={null}\n                          calendarType=\"US\"\n                          // onActiveStartDateChange={({\n                          //   activeStartDate,\n                          //   value,\n                          //   view,\n                          // }) => {\n                          //   onDateChange(activeStartDate);\n                          //   // getAvailableSlot(activeStartDate)\n                          // }}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-sm-12 col-md-4 col-lg-4 pl-0 pr-0\">\n                      {/* <select\n                        value={timeZone}\n                        className={styles.slctPickDateTime}\n                        defaultValue=\"America/New_York\"\n                        id=\"sel1\"\n                        onChange={(e) => setTimeZone(e.target.value)}\n                      >\n                        <option value=\"America/New_York\">\n                          Eastern Time - US & Canada (\n                          {moment(new Date())\n                            .tz('America/New_York')\n                            .format('LT')}\n                          )\n                        </option>\n                        <option value=\"America/Chicago\">\n                          Central Time - US & Canada (\n                          {moment(new Date())\n                            .tz('America/Chicago')\n                            .format('LT')}\n                          )\n                        </option>\n                        <option value=\"America/Denver\">\n                          Mountain Time - US & Canada (\n                          {moment(new Date()).tz('America/Denver').format('LT')}\n                          )\n                        </option>\n                        <option value=\"America/Los_Angeles\">\n                          Pacific Time - US & Canada (\n                          {moment(new Date())\n                            .tz('America/Los_Angeles')\n                            .format('LT')}\n                          )\n                        </option>\n                      </select> */}\n\n                      {/* <Dropdown\n                        timeZones={timeZones}\n                        timeZone={timeZone}\n                        setTimeZone={setTimeZone}\n                      /> */}\n\n                      <div className=\"timeZoneslct\">\n                        {timeZone && (\n                          <label>\n                            {\n                              timeZones.find((x, i) => x.value === timeZone)\n                                .title\n                            }\n                          </label>\n                        )}\n                      </div>\n                      <div className=\"timechoose\">\n                        <p>{moment(selectedDate).format('dddd, MMMM DD')}</p>\n                        {loadingSlots &&\n                          (!availableSlots || availableSlots.length === 0) && (\n                            <div className=\"loaderContent\">\n                              <div className=\"loader\"></div>\n                            </div>\n                          )}\n                        {availableSlots && availableSlots.length > 0 && (\n                          <div className=\"slots\">\n                            <ul>\n                              {(availableSlots || []).map((i, key) => (\n                                <li\n                                  key={key}\n                                  className={\n                                    i === time\n                                      ? 'selectedTimeContainer'\n                                      : 'timeContainer'\n                                  }\n                                >\n                                  <span\n                                    style={{ fontSize: '12px' }}\n                                    className={'chooseTimeElement'}\n                                  >\n                                    {moment(i).tz(timeZone).format('LT')}\n                                  </span>\n\n                                  <span\n                                    style={{ fontSize: '12px' }}\n                                    className={\n                                      i === time\n                                        ? 'selected-time'\n                                        : 'chooseTime'\n                                    }\n                                    onClick={() => {\n                                      setTime(i);\n                                      data(i);\n                                    }}\n                                  >\n                                    {i === time ? 'Selected' : 'Select'}\n                                  </span>\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {(!availableSlots || availableSlots.length === 0) &&\n                          !loadingSlots && (\n                            <div className=\"text-center no-time-slot\">\n                              <b>\n                                No times available{' '}\n                                {moment(selectedDate).format('MMMM DD')}\n                              </b>\n                              <br />\n                              <span>Please select another date</span>\n                            </div>\n                          )}\n                      </div>\n\n                      {/* <DateTimeSlot /> */}\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              <div className=\" mt-3 relativepos\">\n                <div className={styles.btnSec}>\n                  <button\n                    type=\"button\"\n                    className={btnStyles.secondary}\n                    onClick={() => {\n                      props.setPreviousPage();\n                      props.previousStep();\n                    }}\n                  >\n                    Back\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      time !== ''\n                        ? btnStyles.primary\n                        : btnStyles.primaryDisabled\n                    }\n                    onClick={(e) => {\n                      setBtnDisabled(true);\n                      setDateTime(e);\n                    }}\n                    disabled={time === '' || btnDisabled}\n                  >\n                    Continue\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* for mobile responsive content  */}\n        <div className=\"hideForMobile\">\n          <div className=\"row \">\n            <div className=\"col-sm-12 col-md-5 col-lg-5 min-width-desktop\">\n              <SechduleContent />\n              <div className={`${styles.progressContent} marTopBot20`}>\n                {/* <StepBar activeStep=\"2\" size=\"4\" /> */}\n                <div className={StepbarV1Style.hideForLaptop}>\n                  <StepBarV1 mobile={true} {...props} />\n                </div>\n              </div>\n              <div>{carData && carData.fields && renderImages()}</div>\n              <div className=\"pickcardesc\">\n                <p>\n                  {brand ? (\n                    <>\n                      {brand}\n                      {` `}\n                      {carData && carData.fields\n                        ? carData.fields.Name\n                        : 'sample car name'}\n                    </>\n                  ) : (\n                    'Loading . . .'\n                  )}\n                </p>\n                {/* <p>{carData && carData.fields ? carData.fields.Name : ''}</p> */}\n              </div>\n            </div>\n            <div className=\"col-sm-12 col-md-7 col-lg-7 min-width-desktop\">\n              <div className=\"marTopBot20\">\n                <div className=\"pickContent\">\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 col-md-6 col-lg-6\">\n                      <h6>Select a Date & Time</h6>\n                    </div>\n                    <div className=\"col-sm-12 col-md-6 col-lg-6 pl-0 pr-0\">\n                      {/* <select\n                        value={timeZone}\n                        className={styles.slctPickDateTime}\n                        defaultValue=\"America/New_York\"\n                        id=\"sel1\"\n                        onChange={(e) => setTimeZone(e.target.value)}\n                      >\n                        <option value=\"America/New_York\">\n                          Eastern Time - US & Canada (\n                          {moment(new Date())\n                            .tz('America/New_York')\n                            .format('LT')}\n                          )\n                        </option>\n                        <option value=\"America/Chicago\">\n                          Central Time - US & Canada (\n                          {moment(new Date())\n                            .tz('America/Chicago')\n                            .format('LT')}\n                          )\n                        </option>\n                        <option value=\"America/Denver\">\n                          Mountain Time - US & Canada (\n                          {moment(new Date()).tz('America/Denver').format('LT')}\n                          )\n                        </option>\n                        <option value=\"America/Los_Angeles\">\n                          Pacific Time - US & Canada (\n                          {moment(new Date())\n                            .tz('America/Los_Angeles')\n                            .format('LT')}\n                          )\n                        </option>\n                      </select> */}\n\n                      {/* <Dropdown\n                        timeZones={timeZones}\n                        timeZone={timeZone}\n                        setTimeZone={setTimeZone}\n                      /> */}\n\n                      <div className=\"timeZoneslct\">\n                        {timeZone && (\n                          <label>\n                            {\n                              timeZones.find((x, i) => x.value === timeZone)\n                                .title\n                            }\n                          </label>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"row\">\n                    <div className=\"col-sm-12 col-md-8 col-lg-8\">\n                      {/* <h6>Select a Date & Time</h6> */}\n                      <div>\n                        <Calendar\n                          minDate={new Date()}\n                          maxDate={new Date(moment().add(59, 'days'))}\n                          onChange={onDateChange}\n                          value={selectedDate}\n                          className=\"manualReactCalendar\"\n                          next2Label={null}\n                          prev2Label={null}\n                          calendarType=\"US\"\n                          onActiveStartDateChange={({\n                            activeStartDate,\n                            value,\n                            view,\n                          }) => {\n                            onDateChange(activeStartDate);\n                            // getAvailableSlot(activeStartDate)\n                          }}\n                        />\n                      </div>\n                    </div>\n                    <div className=\"col-sm-12 col-md-4 col-lg-4\">\n                      <div className=\"timechoose\">\n                        <p>{moment(selectedDate).format('dddd, MMMM DD')}</p>\n                        {loadingSlots &&\n                          (!availableSlots || availableSlots.length === 0) && (\n                            <div className=\"loaderContent\">\n                              <div className=\"loader\"></div>\n                            </div>\n                          )}\n                        {availableSlots && availableSlots.length > 0 && (\n                          <div className=\"slots\">\n                            <ul>\n                              {(availableSlots || []).map((i, key) => (\n                                <li\n                                  key={key}\n                                  className={\n                                    i === time\n                                      ? 'selectedTimeContainer'\n                                      : 'timeContainer'\n                                  }\n                                >\n                                  <span className={'chooseTimeElement'}>\n                                    {moment(i).tz(timeZone).format('LT')}\n                                  </span>\n\n                                  <span\n                                    className={\n                                      i === time\n                                        ? 'selected-time'\n                                        : 'chooseTime'\n                                    }\n                                    onClick={() => setTime(i)}\n                                  >\n                                    {i === time ? 'Selected' : 'Choose'}\n                                  </span>\n                                </li>\n                              ))}\n                            </ul>\n                          </div>\n                        )}\n                        {(!availableSlots || availableSlots.length === 0) &&\n                          !loadingSlots && (\n                            <div className=\"text-center no-time-slot\">\n                              <b>\n                                No times available{' '}\n                                {moment(selectedDate).format('MMMM DD')}\n                              </b>\n                              <br />\n                              <span>Please select another date</span>\n                            </div>\n                          )}\n                        {data && time ? (\n                          <div style={{ height: '75px' }}></div>\n                        ) : (\n                          <></>\n                        )}\n                      </div>\n\n                      {/* <DateTimeSlot /> */}\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <div className={time ? 'fixedPos' : 'relativepos'}>\n                <div className={styles.btnSec}>\n                  <button\n                    type=\"button\"\n                    className={btnStyles.secondary}\n                    onClick={() => {\n                      props.setPreviousPage();\n                      props.previousStep();\n                    }}\n                  >\n                    Back\n                  </button>\n                  <button\n                    type=\"button\"\n                    className={\n                      time !== ''\n                        ? btnStyles.primary\n                        : btnStyles.primaryDisabled\n                    }\n                    onClick={(e) => {\n                      setBtnDisabled(true);\n                      setDateTime(e);\n                    }}\n                    disabled={time === '' || btnDisabled}\n                  >\n                    Continue\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      {/* end for mobile responsive  */}\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}